{"version":3,"file":"static/js/20176.ff7f10bb.chunk.js","mappings":"6JAKOA,eAAeC,EACpBC,EACAC,EACAC,EACAC,GAEA,MAEMC,QAAYC,EAAAA,EAAAA,IAAeL,EAAfK,CAAuB,WAADC,QAC3BC,EAAAA,EAAAA,MAAqBC,QAAO,gBACvC,CACEC,OAAQ,OACRC,QAAS,C,EAITC,KAAMV,IAIV,IAAKG,EAAIQ,GAAI,KAAAC,EAEX,GADQ,QAARA,EAAAT,EAAIO,YAAI,IAAAE,GAARA,EAAUC,SACS,MAAfV,EAAIW,OACN,MAAM,IAAIC,MACR,iEAGJ,MAAM,IAAIA,MAAM,oCAADV,OACuBF,EAAIW,OAAM,OAAAT,OAAMF,EAAIa,YAE5D,CAEA,MAEMC,SAFad,EAAIe,QAENC,SACjB,IAAKF,EACH,MAAM,IAAIF,MAAM,4CAGlB,OAAW,OAAPb,QAAO,IAAPA,GAAAA,EAASkB,uBACJ,CAAC,UAADf,OAAWY,IAEbhB,EAAUoB,KAAKC,GAAI,UAAAjB,OAAeY,EAAG,KAAAZ,OAAIiB,IAClD,C","sources":["../node_modules/thirdweb/src/storage/upload/web-node.ts"],"sourcesContent":["import type { ThirdwebClient } from \"../../client/client.js\";\nimport { getThirdwebDomains } from \"../../utils/domains.js\";\nimport { getClientFetch } from \"../../utils/fetch.js\";\nimport type { UploadOptions, UploadableFile } from \"./types.js\";\n\nexport async function uploadBatch<const TFiles extends UploadableFile[]>(\n  client: ThirdwebClient,\n  form: FormData,\n  fileNames: string[],\n  options?: UploadOptions<TFiles>,\n) {\n  const headers: HeadersInit = {};\n\n  const res = await getClientFetch(client)(\n    `https://${getThirdwebDomains().storage}/ipfs/upload`,\n    {\n      method: \"POST\",\n      headers: {\n        ...headers,\n        // ...form.getHeaders(),\n      },\n      body: form,\n    },\n  );\n\n  if (!res.ok) {\n    res.body?.cancel();\n    if (res.status === 401) {\n      throw new Error(\n        \"Unauthorized - You don't have permission to use this service.\",\n      );\n    }\n    throw new Error(\n      `Failed to upload files to IPFS - ${res.status} - ${res.statusText}`,\n    );\n  }\n\n  const body = await res.json();\n\n  const cid = body.IpfsHash;\n  if (!cid) {\n    throw new Error(\"Failed to upload files to IPFS - Bad CID\");\n  }\n\n  if (options?.uploadWithoutDirectory) {\n    return [`ipfs://${cid}`];\n  }\n  return fileNames.map((name) => `ipfs://${cid}/${name}`);\n}\n"],"names":["async","uploadBatch","client","form","fileNames","options","res","getClientFetch","concat","getThirdwebDomains","storage","method","headers","body","ok","_res$body","cancel","status","Error","statusText","cid","json","IpfsHash","uploadWithoutDirectory","map","name"],"sourceRoot":""}