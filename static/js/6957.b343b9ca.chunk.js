"use strict";(self.webpackChunkinterzone=self.webpackChunkinterzone||[]).push([[6957],{6957:(e,n,a)=>{a.d(n,{autoConnectInjectedWallet:()=>m,connectInjectedWallet:()=>l});var t=a(33998),r=a(9893),s=a(83423),o=a(3340),i=a(49026),c=a(55881),d=a(28902),u=a(93300);function h(e){const n=(0,d.injectedProvider)(e);if(!n)throw new Error('No injected provider found for wallet: "'.concat(e,'"'));return n}async function l(e,n,a){const t=h(e),o=(await t.request({method:"eth_requestAccounts"}))[0];if(!o)throw new Error("no accounts available");const i=(0,s.bv)(o),d=await t.request({method:"eth_chainId"}).then(c.A);let u=n.chain&&n.chain.id===d?n.chain:(0,r.Q4)(d);return n.chain&&n.chain.id!==d&&(await p(t,n.chain),u=n.chain),w(t,i,u,a)}async function m(e,n,a){const t=h(e),o=(await t.request({method:"eth_accounts"}))[0];if(!o)throw new Error("no accounts available");const i=(0,s.bv)(o),d=await t.request({method:"eth_chainId"}).then(c.A);return w(t,i,a&&a.id===d?a:(0,r.Q4)(d),n)}function v(e,n){const a={address:(0,s.bv)(n),async sendTransaction(n){return{transactionHash:await e.request({method:"eth_sendTransaction",params:[{accessList:n.accessList,value:n.value?(0,o.cK)(n.value):void 0,gas:n.gas?(0,o.cK)(n.gas):void 0,from:this.address,to:n.to,data:n.data}]})}},async signMessage(n){let{message:t}=n;if(!a.address)throw new Error("Provider not setup");const r="string"===typeof t?(0,o.i3)(t):t.raw instanceof Uint8Array?(0,o.EY)(t.raw):t.raw;return await e.request({method:"personal_sign",params:[r,a.address]})},async signTypedData(n){if(!e||!a.address)throw new Error("Provider not setup");const r=(0,u.y)(n),{domain:s,message:o,primaryType:i}=r,c={EIP712Domain:(0,t.H4)({domain:s}),...r.types};(0,t.$$)({domain:s,message:o,primaryType:i,types:c});const d=(0,t.v8)({domain:null!==s&&void 0!==s?s:{},message:o,primaryType:i,types:c});return await e.request({method:"eth_signTypedData_v4",params:[a.address,d]})},watchAsset:async n=>await e.request({method:"wallet_watchAsset",params:n},{retryCount:0})};return a}async function w(e,n,a,t){const o=v(e,n);async function i(){!async function(){e.removeListener("accountsChanged",d),e.removeListener("chainChanged",u),e.removeListener("disconnect",i)}(),t.emit("disconnect",void 0)}function d(n){if(n[0]){const a=v(e,(0,s.bv)(n[0]));t.emit("accountChanged",a),t.emit("accountsChanged",n)}else i()}function u(e){const n=(0,r.Q4)((0,c.A)(e));t.emit("chainChanged",n)}return e.on&&(e.on("accountsChanged",d),e.on("chainChanged",u),e.on("disconnect",i)),[o,a,i,n=>p(e,n)]}async function p(e,n){const a=(0,o.cK)(n.id);try{await e.request({method:"wallet_switchEthereumChain",params:[{chainId:a}]})}catch(c){var t;if(4902!==(null===c||void 0===c?void 0:c.code)&&4902!==(null===c||void 0===c||null===(t=c.data)||void 0===t||null===(t=t.originalError)||void 0===t?void 0:t.code))throw c;{var s;const t=await(0,r.PB)(n);await e.request({method:"wallet_addEthereumChain",params:[{chainId:a,chainName:t.name,nativeCurrency:t.nativeCurrency,rpcUrls:(0,i.k)(t),blockExplorerUrls:null===(s=t.explorers)||void 0===s?void 0:s.map((e=>e.url))}]})}}}}}]);
//# sourceMappingURL=6957.b343b9ca.chunk.js.map