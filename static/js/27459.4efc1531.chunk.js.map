{"version":3,"file":"static/js/27459.4efc1531.chunk.js","mappings":"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","sources":["../node_modules/thirdweb/src/react/web/wallets/shared/ErrorState.tsx","../node_modules/thirdweb/src/react/web/wallets/shared/LoadingState.tsx","../node_modules/thirdweb/src/react/web/ui/components/FadeIn.tsx","../node_modules/input-otp/src/regexp.ts","../node_modules/input-otp/src/use-pwm-badge.tsx","../node_modules/input-otp/src/input.tsx","../node_modules/input-otp/src/use-previous.ts","../node_modules/input-otp/src/sync-timeouts.ts","../node_modules/thirdweb/src/react/web/ui/components/OTPInput.tsx","../node_modules/thirdweb/src/react/web/wallets/shared/OTPLoginUI.tsx","../node_modules/thirdweb/src/react/web/ui/ConnectWallet/icons/FingerPrintIcon.tsx","../node_modules/thirdweb/src/react/web/wallets/shared/PassKeyLogin.tsx","../node_modules/thirdweb/src/react/web/wallets/shared/SocialLogin.tsx","../node_modules/thirdweb/src/wallets/in-app/web/lib/auth/index.ts"],"sourcesContent":["import { iconSize } from \"../../../../react/core/design-system/index.js\";\nimport { AccentFailIcon } from \"../../ui/ConnectWallet/icons/AccentFailIcon.js\";\nimport { Spacer } from \"../../ui/components/Spacer.js\";\nimport { Container } from \"../../ui/components/basic.js\";\nimport { Button } from \"../../ui/components/buttons.js\";\nimport { Text } from \"../../ui/components/text.js\";\n\nexport function ErrorState(props: {\n  onTryAgain: () => void;\n  title: string;\n}) {\n  return (\n    <Container animate=\"fadein\">\n      <Spacer y=\"xxl\" />\n      <Container flex=\"row\" center=\"x\">\n        <AccentFailIcon size={iconSize[\"3xl\"]} />\n      </Container>\n      <Spacer y=\"lg\" />\n      <Text center color=\"primaryText\" size=\"md\">\n        {props.title}\n      </Text>\n      <Spacer y=\"xl\" />\n      <Spacer y=\"xxl\" />\n      <Button variant=\"accent\" fullWidth onClick={props.onTryAgain}>\n        Try Again\n      </Button>\n    </Container>\n  );\n}\n","import type { ReactNode } from \"react\";\nimport { Spacer } from \"../../ui/components/Spacer.js\";\nimport { Spinner } from \"../../ui/components/Spinner.js\";\nimport { Container } from \"../../ui/components/basic.js\";\nimport { Text } from \"../../ui/components/text.js\";\n\nexport function LoadingState(props: {\n  title: string;\n  subtitle: string;\n  icon: ReactNode;\n}) {\n  return (\n    <Container animate=\"fadein\">\n      <Spacer y=\"xxl\" />\n      <Container\n        flex=\"row\"\n        center=\"x\"\n        style={{\n          position: \"relative\",\n        }}\n      >\n        <Spinner size=\"4xl\" color=\"accentText\" />\n        <Container\n          color=\"accentText\"\n          style={{\n            position: \"absolute\",\n            top: \"50%\",\n            left: \"50%\",\n            transform: \"translate(-50%, -50%)\",\n          }}\n        >\n          {props.icon}\n        </Container>\n      </Container>\n      <Spacer y=\"xl\" />\n      <Text center color=\"primaryText\" size=\"lg\">\n        {props.title}\n      </Text>\n      <Spacer y=\"md\" />\n      <Text multiline center>\n        {props.subtitle}\n      </Text>\n      <Spacer y=\"xxl\" />\n      <Spacer y=\"xxl\" />\n    </Container>\n  );\n}\n","import { fadeInAnimation } from \"../design-system/animations.js\";\nimport { StyledDiv } from \"../design-system/elements.js\";\n\nexport const FadeIn = /* @__PURE__ */ StyledDiv({\n  animation: `${fadeInAnimation} 0.15s ease-in`,\n});\n","export const REGEXP_ONLY_DIGITS = '^\\\\d+$'\nexport const REGEXP_ONLY_CHARS = '^[a-zA-Z]+$'\nexport const REGEXP_ONLY_DIGITS_AND_CHARS = '^[a-zA-Z0-9]+$'\n","import * as React from 'react'\nimport { OTPInputProps } from './types'\n\nconst PWM_BADGE_MARGIN_RIGHT = 18\nconst PWM_BADGE_SPACE_WIDTH_PX = 40\nconst PWM_BADGE_SPACE_WIDTH = `${PWM_BADGE_SPACE_WIDTH_PX}px` as const\n\nconst PASSWORD_MANAGERS_SELECTORS = [\n  '[data-lastpass-icon-root]', // LastPass\n  'com-1password-button', // 1Password\n  '[data-dashlanecreated]', // Dashlane\n  '[style$=\"2147483647 !important;\"]', // Bitwarden\n].join(',')\n\nexport function usePasswordManagerBadge({\n  containerRef,\n  inputRef,\n  pushPasswordManagerStrategy,\n  isFocused,\n}: {\n  containerRef: React.RefObject<HTMLDivElement>\n  inputRef: React.RefObject<HTMLInputElement>\n  pushPasswordManagerStrategy: OTPInputProps['pushPasswordManagerStrategy']\n  isFocused: boolean\n}) {\n  // Metadata for instant updates (not React state)\n  const pwmMetadata = React.useRef<{\n    done: boolean\n    refocused: boolean\n  }>({\n    done: false,\n    refocused: false,\n  })\n\n  /** Password managers have a badge\n   *  and I'll use this state to push them\n   *  outside the input */\n  const [hasPWMBadge, setHasPWMBadge] = React.useState(false)\n  const [hasPWMBadgeSpace, setHasPWMBadgeSpace] = React.useState(false)\n  const [done, setDone] = React.useState(false)\n\n  const willPushPWMBadge = React.useMemo(() => {\n    if (pushPasswordManagerStrategy === 'none') {\n      return false\n    }\n\n    const increaseWidthCase =\n      (pushPasswordManagerStrategy === 'increase-width' ||\n        // TODO: remove 'experimental-no-flickering' support in 2.0.0\n        pushPasswordManagerStrategy === 'experimental-no-flickering') &&\n      hasPWMBadge &&\n      hasPWMBadgeSpace\n\n    return increaseWidthCase\n  }, [hasPWMBadge, hasPWMBadgeSpace, pushPasswordManagerStrategy])\n\n  const trackPWMBadge = React.useCallback(() => {\n    const container = containerRef.current\n    const input = inputRef.current\n    if (\n      !container ||\n      !input ||\n      done ||\n      pushPasswordManagerStrategy === 'none'\n    ) {\n      return\n    }\n\n    const elementToCompare = container\n\n    // Get the top right-center point of the container.\n    // That is usually where most password managers place their badge.\n    const rightCornerX =\n      elementToCompare.getBoundingClientRect().left +\n      elementToCompare.offsetWidth\n    const centereredY =\n      elementToCompare.getBoundingClientRect().top +\n      elementToCompare.offsetHeight / 2\n    const x = rightCornerX - PWM_BADGE_MARGIN_RIGHT\n    const y = centereredY\n\n    // Do an extra search to check for famous password managers\n    const pmws = document.querySelectorAll(PASSWORD_MANAGERS_SELECTORS)\n\n    // If no password manager is automatically detect,\n    // we'll try to dispatch document.elementFromPoint\n    // to identify badges\n    if (pmws.length === 0) {\n      const maybeBadgeEl = document.elementFromPoint(x, y)\n\n      // If the found element is the input itself,\n      // then we assume it's not a password manager badge.\n      // We are not sure. Most times that means there isn't a badge.\n      if (maybeBadgeEl === container) {\n        return\n      }\n    }\n\n    setHasPWMBadge(true)\n    setDone(true)\n\n    // For specific password managers,\n    // the input has to be re-focused\n    // to trigger a re-position of the badge.\n    if (!pwmMetadata.current.refocused && document.activeElement === input) {\n      const sel = [input.selectionStart, input.selectionEnd]\n      input.blur()\n      input.focus()\n      // Recover the previous selection\n      input.setSelectionRange(sel[0], sel[1])\n\n      pwmMetadata.current.refocused = true\n    }\n  }, [containerRef, inputRef, done, pushPasswordManagerStrategy])\n\n  React.useEffect(() => {\n    const container = containerRef.current\n    if (!container || pushPasswordManagerStrategy === 'none') {\n      return\n    }\n\n    // Check if the PWM area is 100% visible\n    function checkHasSpace() {\n      const viewportWidth = window.innerWidth\n      const distanceToRightEdge =\n        viewportWidth - container.getBoundingClientRect().right\n      setHasPWMBadgeSpace(distanceToRightEdge >= PWM_BADGE_SPACE_WIDTH_PX)\n    }\n\n    checkHasSpace()\n    const interval = setInterval(checkHasSpace, 1000)\n\n    return () => {\n      clearInterval(interval)\n    }\n  }, [containerRef, pushPasswordManagerStrategy])\n\n  React.useEffect(() => {\n    const _isFocused = isFocused || document.activeElement === inputRef.current\n\n    if (pushPasswordManagerStrategy === 'none' || !_isFocused) {\n      return\n    }\n    const t1 = setTimeout(trackPWMBadge, 0)\n    const t2 = setTimeout(trackPWMBadge, 2000)\n    const t3 = setTimeout(trackPWMBadge, 5000)\n    const t4 = setTimeout(() => {\n      setDone(true)\n    }, 6000)\n    return () => {\n      clearTimeout(t1)\n      clearTimeout(t2)\n      clearTimeout(t3)\n      clearTimeout(t4)\n    }\n  }, [inputRef, isFocused, pushPasswordManagerStrategy, trackPWMBadge])\n\n  return { hasPWMBadge, willPushPWMBadge, PWM_BADGE_SPACE_WIDTH }\n}\n","'use client'\n\nimport * as React from 'react'\n\nimport { REGEXP_ONLY_DIGITS } from './regexp'\nimport { syncTimeouts } from './sync-timeouts'\nimport { OTPInputProps, RenderProps } from './types'\nimport { usePrevious } from './use-previous'\nimport { usePasswordManagerBadge } from './use-pwm-badge'\n\nexport const OTPInputContext = React.createContext<RenderProps>(\n  {} as RenderProps,\n)\n\nexport const OTPInput = React.forwardRef<HTMLInputElement, OTPInputProps>(\n  (\n    {\n      value: uncheckedValue,\n      onChange: uncheckedOnChange,\n      maxLength,\n      textAlign = 'left',\n      pattern = REGEXP_ONLY_DIGITS,\n      inputMode = 'numeric',\n      onComplete,\n      pushPasswordManagerStrategy = 'increase-width',\n      containerClassName,\n      noScriptCSSFallback = NOSCRIPT_CSS_FALLBACK,\n\n      render,\n      children,\n\n      ...props\n    },\n    ref,\n  ) => {\n    // Only used when `value` state is not provided\n    const [internalValue, setInternalValue] = React.useState(\n      typeof props.defaultValue === 'string' ? props.defaultValue : '',\n    )\n\n    // Definitions\n    const value = uncheckedValue ?? internalValue\n    const previousValue = usePrevious(value)\n    const onChange = React.useCallback(\n      (newValue: string) => {\n        uncheckedOnChange?.(newValue)\n        setInternalValue(newValue)\n      },\n      [uncheckedOnChange],\n    )\n    const regexp = React.useMemo(\n      () =>\n        pattern\n          ? typeof pattern === 'string'\n            ? new RegExp(pattern)\n            : pattern\n          : null,\n      [pattern],\n    )\n\n    /** useRef */\n    const inputRef = React.useRef<HTMLInputElement>(null)\n    const containerRef = React.useRef<HTMLDivElement>(null)\n    const initialLoadRef = React.useRef({\n      value,\n      onChange,\n      isIOS:\n        typeof window !== 'undefined' &&\n        window?.CSS?.supports?.('-webkit-touch-callout', 'none'),\n    })\n    const inputMetadataRef = React.useRef<{\n      prev: [number | null, number | null, 'none' | 'forward' | 'backward']\n    }>({\n      prev: [\n        inputRef.current?.selectionStart,\n        inputRef.current?.selectionEnd,\n        inputRef.current?.selectionDirection,\n      ],\n    })\n    React.useImperativeHandle(ref, () => inputRef.current, [])\n    React.useEffect(() => {\n      const input = inputRef.current\n      const container = containerRef.current\n\n      if (!input || !container) {\n        return\n      }\n\n      // Sync input value\n      if (initialLoadRef.current.value !== input.value) {\n        initialLoadRef.current.onChange(input.value)\n      }\n\n      // Previous selection\n      inputMetadataRef.current.prev = [\n        input.selectionStart,\n        input.selectionEnd,\n        input.selectionDirection,\n      ]\n      function onDocumentSelectionChange() {\n        if (document.activeElement !== input) {\n          setMirrorSelectionStart(null)\n          setMirrorSelectionEnd(null)\n          return\n        }\n\n        // Aliases\n        const _s = input.selectionStart\n        const _e = input.selectionEnd\n        const _dir = input.selectionDirection\n        const _ml = input.maxLength\n        const _val = input.value\n        const _prev = inputMetadataRef.current.prev\n\n        // Algorithm\n        let start = -1\n        let end = -1\n        let direction: 'forward' | 'backward' | 'none' = undefined\n        if (_val.length !== 0 && _s !== null && _e !== null) {\n          const isSingleCaret = _s === _e\n          const isInsertMode = _s === _val.length && _val.length < _ml\n\n          if (isSingleCaret && !isInsertMode) {\n            const c = _s\n            if (c === 0) {\n              start = 0\n              end = 1\n              direction = 'forward'\n            } else if (c === _ml) {\n              start = c - 1\n              end = c\n              direction = 'backward'\n            } else if (_ml > 1 && _val.length > 1) {\n              let offset = 0\n              if (_prev[0] !== null && _prev[1] !== null) {\n                direction = c < _prev[1] ? 'backward' : 'forward'\n                const wasPreviouslyInserting =\n                  _prev[0] === _prev[1] && _prev[0] < _ml\n                if (direction === 'backward' && !wasPreviouslyInserting) {\n                  offset = -1\n                }\n              }\n\n              start = offset + c\n              end = offset + c + 1\n            }\n          }\n\n          if (start !== -1 && end !== -1 && start !== end) {\n            inputRef.current.setSelectionRange(start, end, direction)\n          }\n        }\n\n        // Finally, update the state\n        const s = start !== -1 ? start : _s\n        const e = end !== -1 ? end : _e\n        const dir = direction ?? _dir\n        setMirrorSelectionStart(s)\n        setMirrorSelectionEnd(e)\n        // Store the previous selection value\n        inputMetadataRef.current.prev = [s, e, dir]\n      }\n      document.addEventListener('selectionchange', onDocumentSelectionChange, {\n        capture: true,\n      })\n\n      // Set initial mirror state\n      onDocumentSelectionChange()\n      document.activeElement === input && setIsFocused(true)\n\n      // Apply needed styles\n      if (!document.getElementById('input-otp-style')) {\n        const styleEl = document.createElement('style')\n        styleEl.id = 'input-otp-style'\n        document.head.appendChild(styleEl)\n\n        if (styleEl.sheet) {\n          const autofillStyles =\n            'background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;'\n\n          safeInsertRule(\n            styleEl.sheet,\n            '[data-input-otp]::selection { background: transparent !important; color: transparent !important; }',\n          )\n          safeInsertRule(\n            styleEl.sheet,\n            `[data-input-otp]:autofill { ${autofillStyles} }`,\n          )\n          safeInsertRule(\n            styleEl.sheet,\n            `[data-input-otp]:-webkit-autofill { ${autofillStyles} }`,\n          )\n          // iOS\n          safeInsertRule(\n            styleEl.sheet,\n            `@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }`,\n          )\n          // PWM badges\n          safeInsertRule(\n            styleEl.sheet,\n            `[data-input-otp] + * { pointer-events: all !important; }`,\n          )\n        }\n      }\n      // Track root height\n      const updateRootHeight = () => {\n        if (container) {\n          container.style.setProperty(\n            '--root-height',\n            `${input.clientHeight}px`,\n          )\n        }\n      }\n      updateRootHeight()\n      const resizeObserver = new ResizeObserver(updateRootHeight)\n      resizeObserver.observe(input)\n\n      return () => {\n        document.removeEventListener(\n          'selectionchange',\n          onDocumentSelectionChange,\n          { capture: true },\n        )\n        resizeObserver.disconnect()\n      }\n    }, [])\n\n    /** Mirrors for UI rendering purpose only */\n    const [isHoveringInput, setIsHoveringInput] = React.useState(false)\n    const [isFocused, setIsFocused] = React.useState(false)\n    const [mirrorSelectionStart, setMirrorSelectionStart] = React.useState<\n      number | null\n    >(null)\n    const [mirrorSelectionEnd, setMirrorSelectionEnd] = React.useState<\n      number | null\n    >(null)\n\n    /** Effects */\n    React.useEffect(() => {\n      syncTimeouts(() => {\n        // Forcefully remove :autofill state\n        inputRef.current?.dispatchEvent(new Event('input'))\n\n        // Update the selection state\n        const s = inputRef.current?.selectionStart\n        const e = inputRef.current?.selectionEnd\n        const dir = inputRef.current?.selectionDirection\n        if (s !== null && e !== null) {\n          setMirrorSelectionStart(s)\n          setMirrorSelectionEnd(e)\n          inputMetadataRef.current.prev = [s, e, dir]\n        }\n      })\n    }, [value, isFocused])\n\n    React.useEffect(() => {\n      if (previousValue === undefined) {\n        return\n      }\n\n      if (\n        value !== previousValue &&\n        previousValue.length < maxLength &&\n        value.length === maxLength\n      ) {\n        onComplete?.(value)\n      }\n    }, [maxLength, onComplete, previousValue, value])\n\n    const pwmb = usePasswordManagerBadge({\n      containerRef,\n      inputRef,\n      pushPasswordManagerStrategy,\n      isFocused,\n    })\n\n    /** Event handlers */\n    const _changeListener = React.useCallback(\n      (e: React.ChangeEvent<HTMLInputElement>) => {\n        const newValue = e.currentTarget.value.slice(0, maxLength)\n        if (newValue.length > 0 && regexp && !regexp.test(newValue)) {\n          e.preventDefault()\n          return\n        }\n        const maybeHasDeleted =\n          typeof previousValue === 'string' &&\n          newValue.length < previousValue.length\n        if (maybeHasDeleted) {\n          // Since cutting/deleting text doesn't trigger\n          // selectionchange event, we'll have to dispatch it manually.\n          // NOTE: The following line also triggers when cmd+A then pasting\n          // a value with smaller length, which is not ideal for performance.\n          document.dispatchEvent(new Event('selectionchange'))\n        }\n        onChange(newValue)\n      },\n      [maxLength, onChange, previousValue, regexp],\n    )\n    const _focusListener = React.useCallback(() => {\n      if (inputRef.current) {\n        const start = Math.min(inputRef.current.value.length, maxLength - 1)\n        const end = inputRef.current.value.length\n        inputRef.current?.setSelectionRange(start, end)\n        setMirrorSelectionStart(start)\n        setMirrorSelectionEnd(end)\n      }\n      setIsFocused(true)\n    }, [maxLength])\n    // Fix iOS pasting\n    const _pasteListener = React.useCallback(\n      (e: React.ClipboardEvent<HTMLInputElement>) => {\n        const input = inputRef.current\n        if (!initialLoadRef.current.isIOS || !e.clipboardData || !input) {\n          return\n        }\n\n        const content = e.clipboardData.getData('text/plain')\n        e.preventDefault()\n\n        const start = inputRef.current?.selectionStart\n        const end = inputRef.current?.selectionEnd\n\n        const isReplacing = start !== end\n\n        const newValueUncapped = isReplacing\n          ? value.slice(0, start) + content + value.slice(end) // Replacing\n          : value.slice(0, start) + content + value.slice(start) // Inserting\n        const newValue = newValueUncapped.slice(0, maxLength)\n\n        if (newValue.length > 0 && regexp && !regexp.test(newValue)) {\n          return\n        }\n\n        input.value = newValue\n        onChange(newValue)\n\n        const _start = Math.min(newValue.length, maxLength - 1)\n        const _end = newValue.length\n\n        input.setSelectionRange(_start, _end)\n        setMirrorSelectionStart(_start)\n        setMirrorSelectionEnd(_end)\n      },\n      [maxLength, onChange, regexp, value],\n    )\n\n    /** Styles */\n    const rootStyle = React.useMemo<React.CSSProperties>(\n      () => ({\n        position: 'relative',\n        cursor: props.disabled ? 'default' : 'text',\n        userSelect: 'none',\n        WebkitUserSelect: 'none',\n        pointerEvents: 'none',\n      }),\n      [props.disabled],\n    )\n\n    const inputStyle = React.useMemo<React.CSSProperties>(\n      () => ({\n        position: 'absolute',\n        inset: 0,\n        width: pwmb.willPushPWMBadge\n          ? `calc(100% + ${pwmb.PWM_BADGE_SPACE_WIDTH})`\n          : '100%',\n        clipPath: pwmb.willPushPWMBadge\n          ? `inset(0 ${pwmb.PWM_BADGE_SPACE_WIDTH} 0 0)`\n          : undefined,\n        height: '100%',\n        display: 'flex',\n        textAlign,\n        opacity: '1', // Mandatory for iOS hold-paste\n        color: 'transparent',\n        pointerEvents: 'all',\n        background: 'transparent',\n        caretColor: 'transparent',\n        border: '0 solid transparent',\n        outline: '0 solid transparent',\n        boxShadow: 'none',\n        lineHeight: '1',\n        letterSpacing: '-.5em',\n        fontSize: 'var(--root-height)',\n        fontFamily: 'monospace',\n        fontVariantNumeric: 'tabular-nums',\n        // letterSpacing: '-1em',\n        // transform: 'scale(1.5)',\n        // paddingRight: '100%',\n        // paddingBottom: '100%',\n        // debugging purposes\n        // inset: undefined,\n        // position: undefined,\n        // color: 'black',\n        // background: 'white',\n        // opacity: '1',\n        // caretColor: 'black',\n        // padding: '0',\n        // letterSpacing: 'unset',\n        // fontSize: 'unset',\n        // paddingInline: '.5rem',\n      }),\n      [pwmb.PWM_BADGE_SPACE_WIDTH, pwmb.willPushPWMBadge, textAlign],\n    )\n\n    /** Rendering */\n    const renderedInput = React.useMemo(\n      () => (\n        <input\n          autoComplete={props.autoComplete || 'one-time-code'}\n          {...props}\n          data-input-otp\n          data-input-otp-mss={mirrorSelectionStart}\n          data-input-otp-mse={mirrorSelectionEnd}\n          inputMode={inputMode}\n          pattern={regexp?.source}\n          style={inputStyle}\n          maxLength={maxLength}\n          value={value}\n          ref={inputRef}\n          onPaste={e => {\n            _pasteListener(e)\n            props.onPaste?.(e)\n          }}\n          onChange={_changeListener}\n          onMouseOver={e => {\n            setIsHoveringInput(true)\n            props.onMouseOver?.(e)\n          }}\n          onMouseLeave={e => {\n            setIsHoveringInput(false)\n            props.onMouseLeave?.(e)\n          }}\n          onFocus={e => {\n            _focusListener()\n            props.onFocus?.(e)\n          }}\n          onBlur={e => {\n            setIsFocused(false)\n            props.onBlur?.(e)\n          }}\n        />\n      ),\n      [\n        _changeListener,\n        _focusListener,\n        _pasteListener,\n        inputMode,\n        inputStyle,\n        maxLength,\n        mirrorSelectionEnd,\n        mirrorSelectionStart,\n        props,\n        regexp?.source,\n        value,\n      ],\n    )\n\n    const contextValue = React.useMemo<RenderProps>(() => {\n      return {\n        slots: Array.from({ length: maxLength }).map((_, slotIdx) => {\n          const isActive =\n            isFocused &&\n            mirrorSelectionStart !== null &&\n            mirrorSelectionEnd !== null &&\n            ((mirrorSelectionStart === mirrorSelectionEnd &&\n              slotIdx === mirrorSelectionStart) ||\n              (slotIdx >= mirrorSelectionStart && slotIdx < mirrorSelectionEnd))\n\n          const char = value[slotIdx] !== undefined ? value[slotIdx] : null\n\n          return {\n            char,\n            isActive,\n            hasFakeCaret: isActive && char === null,\n          }\n        }),\n        isFocused,\n        isHovering: !props.disabled && isHoveringInput,\n      }\n    }, [\n      isFocused,\n      isHoveringInput,\n      maxLength,\n      mirrorSelectionEnd,\n      mirrorSelectionStart,\n      props.disabled,\n      value,\n    ])\n\n    const renderedChildren = React.useMemo(() => {\n      if (render) {\n        return render(contextValue)\n      }\n      return (\n        <OTPInputContext.Provider value={contextValue}>\n          {children}\n        </OTPInputContext.Provider>\n      )\n    }, [children, contextValue, render])\n\n    return (\n      <>\n        {noScriptCSSFallback !== null && (\n          <noscript>\n            <style>{noScriptCSSFallback}</style>\n          </noscript>\n        )}\n\n        <div\n          ref={containerRef}\n          data-input-otp-container\n          style={rootStyle}\n          className={containerClassName}\n        >\n          {renderedChildren}\n\n          <div\n            style={{\n              position: 'absolute',\n              inset: 0,\n              pointerEvents: 'none',\n            }}\n          >\n            {renderedInput}\n          </div>\n        </div>\n      </>\n    )\n  },\n)\nOTPInput.displayName = 'Input'\n\nfunction safeInsertRule(sheet: CSSStyleSheet, rule: string) {\n  try {\n    sheet.insertRule(rule)\n  } catch {\n    console.error('input-otp could not insert CSS rule:', rule)\n  }\n}\n\n// Decided to go with <noscript>\n// instead of `scripting` CSS media query\n// because it's a fallback for initial page load\n// and the <script> tag won't be loaded\n// unless the user has JS disabled.\nconst NOSCRIPT_CSS_FALLBACK = `\n[data-input-otp] {\n  --nojs-bg: white !important;\n  --nojs-fg: black !important;\n\n  background-color: var(--nojs-bg) !important;\n  color: var(--nojs-fg) !important;\n  caret-color: var(--nojs-fg) !important;\n  letter-spacing: .25em !important;\n  text-align: center !important;\n  border: 1px solid var(--nojs-fg) !important;\n  border-radius: 4px !important;\n  width: 100% !important;\n}\n@media (prefers-color-scheme: dark) {\n  [data-input-otp] {\n    --nojs-bg: black !important;\n    --nojs-fg: white !important;\n  }\n}`\n","import * as React from 'react'\n\nexport function usePrevious<T>(value: T) {\n  const ref = React.useRef<T>()\n  React.useEffect(() => {\n    ref.current = value\n  })\n  return ref.current\n}\n","export function syncTimeouts(cb: (...args: any[]) => unknown): number[] {\n  const t1 = setTimeout(cb, 0) // For faster machines\n  const t2 = setTimeout(cb, 1_0)\n  const t3 = setTimeout(cb, 5_0)\n  return [t1, t2, t3]\n}\n","\"use client\";\nimport { keyframes } from \"@emotion/react\";\nimport { OTPInput as InputOTP, type SlotProps } from \"input-otp\";\nimport { useCustomTheme } from \"../../../core/design-system/CustomThemeProvider.js\";\nimport {\n  fontSize,\n  radius,\n  spacing,\n} from \"../../../core/design-system/index.js\";\nimport { StyledDiv } from \"../design-system/elements.js\";\nimport { Container } from \"./basic.js\";\n\n/**\n * @internal\n */\nexport function OTPInput(props: {\n  digits: number;\n  isInvalid?: boolean;\n  value: string;\n  setValue: (value: string) => void;\n  onEnter: () => void;\n}) {\n  return (\n    <OTPInputContainer>\n      <InputOTP\n        onComplete={() => {\n          props.onEnter();\n        }}\n        maxLength={6}\n        value={props.value}\n        render={({ slots }) => (\n          <Container flex=\"row\" gap=\"xs\" center=\"both\">\n            {slots.map((slot, idx) => (\n              // biome-ignore lint/suspicious/noArrayIndexKey: index is the only valid key here\n              <Slot key={idx} {...slot} isInvalid={props.isInvalid} />\n            ))}\n          </Container>\n        )}\n        onChange={(newValue) => {\n          props.setValue(newValue);\n        }}\n      />\n    </OTPInputContainer>\n  );\n}\n\nconst OTPInputContainer = /* @__PURE__ */ StyledDiv({\n  \"& input\": {\n    maxWidth: \"100%\",\n  },\n});\n\nfunction Slot(props: SlotProps & { isInvalid?: boolean }) {\n  return (\n    <OTPInputBox data-active={props.isActive} data-error={props.isInvalid}>\n      {props.char !== null && <div>{props.char}</div>}\n      {props.hasFakeCaret && <FakeCaret />}\n    </OTPInputBox>\n  );\n}\n\nconst caretBlink = keyframes`\n  0%, 100% {\n    opacity: 0;\n  },\n  50% {\n    opacity: 1;\n  }\n  `;\n\nconst FakeCaret = StyledDiv((_) => {\n  const theme = useCustomTheme();\n  return {\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    inset: 0,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    animation: `${caretBlink} 1s infinite`,\n    \"&::before\": {\n      content: \"''\",\n      display: \"block\",\n      width: \"1.5px\",\n      height: \"1em\",\n      backgroundColor: theme.colors.primaryText,\n    },\n  };\n});\n\nconst OTPInputBox = /* @__PURE__ */ StyledDiv((_) => {\n  const theme = useCustomTheme();\n  return {\n    position: \"relative\",\n    width: \"40px\",\n    height: \"40px\",\n    textAlign: \"center\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    fontSize: fontSize.md,\n    padding: spacing.xs,\n    boxSizing: \"border-box\",\n    transition: \"color 200ms ease\",\n    border: `2px solid ${theme.colors.borderColor}`,\n    \"&[data-active='true']\": {\n      borderColor: theme.colors.accentText,\n    },\n    color: theme.colors.primaryText,\n    borderRadius: radius.lg,\n    \"&[data-error='true']\": {\n      borderColor: theme.colors.danger,\n    },\n  };\n});\n","\"use client\";\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport type { Chain } from \"../../../../chains/types.js\";\nimport type { ThirdwebClient } from \"../../../../client/client.js\";\nimport { webLocalStorage } from \"../../../../utils/storage/webStorage.js\";\nimport { isEcosystemWallet } from \"../../../../wallets/ecosystem/is-ecosystem-wallet.js\";\nimport { linkProfile } from \"../../../../wallets/in-app/core/wallet/profiles.js\";\nimport { preAuthenticate } from \"../../../../wallets/in-app/web/lib/auth/index.js\";\nimport type { Wallet } from \"../../../../wallets/interfaces/wallet.js\";\nimport type { EcosystemWalletId } from \"../../../../wallets/wallet-types.js\";\nimport { useCustomTheme } from \"../../../core/design-system/CustomThemeProvider.js\";\nimport { fontSize } from \"../../../core/design-system/index.js\";\nimport { setLastAuthProvider } from \"../../../core/utils/storage.js\";\nimport { FadeIn } from \"../../ui/components/FadeIn.js\";\nimport { OTPInput } from \"../../ui/components/OTPInput.js\";\nimport { Spacer } from \"../../ui/components/Spacer.js\";\nimport { Spinner } from \"../../ui/components/Spinner.js\";\nimport { Container, Line, ModalHeader } from \"../../ui/components/basic.js\";\nimport { Button } from \"../../ui/components/buttons.js\";\nimport { Text } from \"../../ui/components/text.js\";\nimport { StyledButton } from \"../../ui/design-system/elements.js\";\nimport type { InAppWalletLocale } from \"./locale/types.js\";\n\ntype VerificationStatus =\n  | \"verifying\"\n  | \"invalid\"\n  | \"linking_error\"\n  | \"valid\"\n  | \"idle\"\n  | \"payment_required\";\ntype AccountStatus = \"sending\" | \"sent\" | \"error\";\ntype ScreenToShow = \"base\" | \"enter-password-or-recovery-code\";\n\n/**\n * @internal\n */\nexport function OTPLoginUI(props: {\n  userInfo: { email: string } | { phone: string };\n  wallet: Wallet;\n  locale: InAppWalletLocale;\n  done: () => void;\n  goBack?: () => void;\n  client: ThirdwebClient;\n  chain: Chain | undefined;\n  size: \"compact\" | \"wide\";\n  isLinking?: boolean;\n}) {\n  const { wallet, done, goBack, userInfo } = props;\n  const isWideModal = props.size === \"wide\";\n  const locale = props.locale;\n  const [otpInput, setOtpInput] = useState(\"\");\n  const [verifyStatus, setVerifyStatus] = useState<VerificationStatus>(\"idle\");\n  const [error, setError] = useState<string | undefined>();\n  const [accountStatus, setAccountStatus] = useState<AccountStatus>(\"sending\");\n  const isEcosystem = useMemo(() => isEcosystemWallet(wallet.id), [wallet.id]);\n\n  const [screen] = useState<ScreenToShow>(\"base\");\n\n  const sendEmailOrSms = useCallback(async () => {\n    setOtpInput(\"\");\n    setVerifyStatus(\"idle\");\n    setAccountStatus(\"sending\");\n\n    try {\n      if (\"email\" in userInfo) {\n        await preAuthenticate({\n          ecosystem: isEcosystem\n            ? {\n                id: wallet.id as EcosystemWalletId,\n                partnerId: (wallet as Wallet<EcosystemWalletId>).getConfig()\n                  ?.partnerId,\n              }\n            : undefined,\n          email: userInfo.email,\n          strategy: \"email\",\n          client: props.client,\n        });\n        setAccountStatus(\"sent\");\n      } else if (\"phone\" in userInfo) {\n        await preAuthenticate({\n          ecosystem: isEcosystem\n            ? {\n                id: wallet.id as EcosystemWalletId,\n                partnerId: (wallet as Wallet<EcosystemWalletId>).getConfig()\n                  ?.partnerId,\n              }\n            : undefined,\n          phoneNumber: userInfo.phone,\n          strategy: \"phone\",\n          client: props.client,\n        });\n        setAccountStatus(\"sent\");\n      } else {\n        throw new Error(\"Invalid userInfo\");\n      }\n    } catch (e) {\n      console.error(e);\n      setVerifyStatus(\"idle\");\n      setAccountStatus(\"error\");\n    }\n  }, [props.client, userInfo, wallet, isEcosystem]);\n\n  async function connect(otp: string) {\n    if (\"email\" in userInfo) {\n      await wallet.connect({\n        chain: props.chain,\n        strategy: \"email\",\n        email: userInfo.email,\n        verificationCode: otp,\n        client: props.client,\n      });\n      await setLastAuthProvider(\"email\", webLocalStorage);\n    } else if (\"phone\" in userInfo) {\n      await wallet.connect({\n        chain: props.chain,\n        strategy: \"phone\",\n        phoneNumber: userInfo.phone,\n        verificationCode: otp,\n        client: props.client,\n      });\n      await setLastAuthProvider(\"phone\", webLocalStorage);\n    } else {\n      throw new Error(\"Invalid userInfo\");\n    }\n  }\n\n  async function link(otp: string) {\n    if (\"email\" in userInfo) {\n      await linkProfile(wallet as Wallet<\"inApp\">, {\n        strategy: \"email\",\n        email: userInfo.email,\n        verificationCode: otp,\n      });\n    } else if (\"phone\" in userInfo) {\n      await linkProfile(wallet as Wallet<\"inApp\">, {\n        strategy: \"phone\",\n        phoneNumber: userInfo.phone,\n        verificationCode: otp,\n      });\n    }\n  }\n\n  const verify = async (otp: string) => {\n    if (otp.length !== 6) {\n      return;\n    }\n    setVerifyStatus(\"verifying\");\n\n    try {\n      // verifies otp for UI feedback\n      if (props.isLinking) {\n        await link(otp);\n      } else {\n        await connect(otp);\n      }\n      done();\n\n      setVerifyStatus(\"valid\");\n    } catch (e) {\n      // TODO: More robust error handling\n      if (\n        e instanceof Error &&\n        e?.message?.includes(\"PAYMENT_METHOD_REQUIRED\")\n      ) {\n        setVerifyStatus(\"payment_required\");\n      } else if (\n        e instanceof Error &&\n        (e.message.toLowerCase().includes(\"link\") ||\n          e.message.toLowerCase().includes(\"profile\"))\n      ) {\n        setVerifyStatus(\"linking_error\");\n        setError(e.message);\n      } else {\n        setVerifyStatus(\"invalid\");\n      }\n      console.error(\"Authentication Error\", e);\n    }\n  };\n\n  // send email on mount\n  const emailSentOnMount = useRef(false);\n  useEffect(() => {\n    if (!emailSentOnMount.current) {\n      emailSentOnMount.current = true;\n      sendEmailOrSms();\n    }\n  }, [sendEmailOrSms]);\n\n  if (screen === \"base\") {\n    return (\n      <Container fullHeight flex=\"column\" animate=\"fadein\">\n        <Container p=\"lg\">\n          <ModalHeader title={locale.signIn} onBack={goBack} />\n        </Container>\n\n        <Container expand flex=\"column\" center=\"y\">\n          <form\n            onSubmit={(e) => {\n              e.preventDefault();\n            }}\n          >\n            <Container flex=\"column\" center=\"x\" px=\"lg\">\n              {!isWideModal && <Spacer y=\"xl\" />}\n              <Text>{locale.emailLoginScreen.enterCodeSendTo}</Text>\n              <Spacer y=\"sm\" />\n              <Text color=\"primaryText\">\n                {\"email\" in userInfo ? userInfo.email : userInfo.phone}\n              </Text>\n              <Spacer y=\"xl\" />\n            </Container>\n\n            <OTPInput\n              isInvalid={verifyStatus === \"invalid\"}\n              digits={6}\n              value={otpInput}\n              setValue={(value) => {\n                setOtpInput(value);\n                setVerifyStatus(\"idle\"); // reset error\n              }}\n              onEnter={() => {\n                verify(otpInput);\n              }}\n            />\n\n            {verifyStatus === \"invalid\" && (\n              <FadeIn>\n                <Spacer y=\"md\" />\n                <Text size=\"sm\" color=\"danger\" center>\n                  {locale.emailLoginScreen.invalidCode}\n                </Text>\n              </FadeIn>\n            )}\n\n            {verifyStatus === \"linking_error\" && (\n              <FadeIn>\n                <Spacer y=\"md\" />\n                <Text size=\"sm\" color=\"danger\" center>\n                  {error || \"Failed to verify code\"}\n                </Text>\n              </FadeIn>\n            )}\n\n            {verifyStatus === \"payment_required\" && (\n              <FadeIn>\n                <Spacer y=\"md\" />\n                <Text size=\"sm\" color=\"danger\" center>\n                  {locale.maxAccountsExceeded}\n                </Text>\n              </FadeIn>\n            )}\n\n            <Spacer y=\"xl\" />\n\n            <Container px={isWideModal ? \"xxl\" : \"lg\"}>\n              {verifyStatus === \"verifying\" ? (\n                <>\n                  <Container flex=\"row\" center=\"x\" animate=\"fadein\">\n                    <Spinner size=\"lg\" color=\"accentText\" />\n                  </Container>\n                </>\n              ) : (\n                <Container animate=\"fadein\" key=\"btn-container\">\n                  <Button\n                    onClick={() => verify(otpInput)}\n                    variant=\"accent\"\n                    type=\"submit\"\n                    style={{\n                      width: \"100%\",\n                    }}\n                  >\n                    {locale.emailLoginScreen.verify}\n                  </Button>\n                </Container>\n              )}\n            </Container>\n\n            <Spacer y=\"xl\" />\n\n            {!isWideModal && <Line />}\n\n            <Container p={isWideModal ? undefined : \"lg\"}>\n              {accountStatus === \"error\" && (\n                <>\n                  <Text size=\"sm\" center color=\"danger\">\n                    {locale.emailLoginScreen.failedToSendCode}\n                  </Text>\n                </>\n              )}\n\n              {accountStatus === \"sending\" && (\n                <Container\n                  flex=\"row\"\n                  center=\"both\"\n                  gap=\"xs\"\n                  style={{\n                    textAlign: \"center\",\n                  }}\n                >\n                  <Text size=\"sm\">{locale.emailLoginScreen.sendingCode}</Text>\n                  <Spinner size=\"xs\" color=\"secondaryText\" />\n                </Container>\n              )}\n\n              {accountStatus === \"sent\" && (\n                <LinkButton onClick={sendEmailOrSms} type=\"button\">\n                  {locale.emailLoginScreen.resendCode}\n                </LinkButton>\n              )}\n            </Container>\n          </form>\n        </Container>\n      </Container>\n    );\n  }\n\n  return null;\n}\n\nconst LinkButton = /* @__PURE__ */ StyledButton((_) => {\n  const theme = useCustomTheme();\n  return {\n    all: \"unset\",\n    color: theme.colors.accentText,\n    fontSize: fontSize.sm,\n    cursor: \"pointer\",\n    textAlign: \"center\",\n    fontWeight: 500,\n    width: \"100%\",\n    \"&:hover\": {\n      color: theme.colors.primaryText,\n    },\n  };\n});\n","import type { IconFC } from \"./types.js\";\n\nexport const FingerPrintIcon: IconFC = (props) => {\n  return (\n    <svg\n      width={props.size}\n      height={props.size}\n      viewBox=\"0 0 36 36\"\n      fill=\"none\"\n      aria-hidden=\"true\"\n    >\n      <path\n        d=\"M18.0001 15C17.2045 15 16.4414 15.3161 15.8788 15.8787C15.3162 16.4413 15.0001 17.2044 15.0001 18C15.0001 19.53 14.8501 21.765 14.6101 24\"\n        stroke=\"currentColor\"\n        strokeWidth=\"3\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M21.0002 19.6801C21.0002 23.2501 21.0002 29.2501 19.5002 33.0001\"\n        stroke=\"currentColor\"\n        strokeWidth=\"3\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M25.9348 31.53C26.1148 30.63 26.5798 28.08 26.6848 27\"\n        stroke=\"currentColor\"\n        strokeWidth=\"3\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M2.99976 18C2.99976 14.8518 3.99032 11.7833 5.83112 9.22935C7.67193 6.67536 10.2697 4.76531 13.2563 3.76975C16.243 2.77419 19.4672 2.74359 22.4723 3.6823C25.4773 4.621 28.1108 6.48141 29.9998 9\"\n        stroke=\"currentColor\"\n        strokeWidth=\"3\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M2.99976 24H3.01628\"\n        stroke=\"currentColor\"\n        strokeWidth=\"3\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M32.7 24C33 21 32.8965 15.969 32.7 15\"\n        stroke=\"currentColor\"\n        strokeWidth=\"3\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M7.49976 29.25C8.24976 27 8.99976 22.5 8.99976 18C8.99824 16.9783 9.17071 15.9638 9.50976 15\"\n        stroke=\"currentColor\"\n        strokeWidth=\"3\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M12.9751 33C13.2901 32.01 13.6501 31.02 13.8301 30\"\n        stroke=\"currentColor\"\n        strokeWidth=\"3\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M13.5 10.2C14.8686 9.40988 16.4211 8.99401 18.0014 8.99426C19.5818 8.99452 21.1342 9.41088 22.5025 10.2015C23.8708 10.9921 25.0069 12.129 25.7964 13.498C26.5859 14.867 27.001 16.4197 27 18V21\"\n        stroke=\"currentColor\"\n        strokeWidth=\"3\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n};\n","import { useEffect, useRef, useState } from \"react\";\nimport type { Chain } from \"../../../../chains/types.js\";\nimport type { ThirdwebClient } from \"../../../../client/client.js\";\nimport { type Wallet, linkProfile } from \"../../../../exports/wallets.js\";\nimport { webLocalStorage } from \"../../../../utils/storage/webStorage.js\";\nimport { isEcosystemWallet } from \"../../../../wallets/ecosystem/is-ecosystem-wallet.js\";\nimport { hasStoredPasskey } from \"../../../../wallets/in-app/web/lib/auth/passkeys.js\";\nimport { iconSize } from \"../../../core/design-system/index.js\";\nimport { setLastAuthProvider } from \"../../../core/utils/storage.js\";\nimport { FingerPrintIcon } from \"../../ui/ConnectWallet/icons/FingerPrintIcon.js\";\nimport type { ConnectLocale } from \"../../ui/ConnectWallet/locale/types.js\";\nimport { Spacer } from \"../../ui/components/Spacer.js\";\nimport { Container, ModalHeader } from \"../../ui/components/basic.js\";\nimport { Button } from \"../../ui/components/buttons.js\";\nimport { ErrorState } from \"./ErrorState.js\";\nimport { LoadingScreen } from \"./LoadingScreen.js\";\nimport { LoadingState } from \"./LoadingState.js\";\n\n// is passkey stored?\n// - login\n// else\n// - show login or signup options\n\nexport function PassKeyLogin(props: {\n  wallet: Wallet;\n  locale: ConnectLocale;\n  done: () => void;\n  onBack?: () => void;\n  client: ThirdwebClient;\n  chain: Chain | undefined;\n  size: \"compact\" | \"wide\";\n  isLinking?: boolean;\n}) {\n  const { wallet, done, client, chain, size, locale } = props;\n  const [screen, setScreen] = useState<\n    \"select\" | \"login\" | \"loading\" | \"signup\"\n  >(\"loading\");\n\n  const triggered = useRef(false);\n  useEffect(() => {\n    if (triggered.current) {\n      return;\n    }\n\n    triggered.current = true;\n    hasStoredPasskey(\n      client,\n      isEcosystemWallet(wallet.id) ? wallet.id : undefined,\n    )\n      .then((isStored) => {\n        if (isStored) {\n          setScreen(\"login\");\n        } else {\n          setScreen(\"select\");\n        }\n      })\n      .catch(() => {\n        setScreen(\"select\");\n      });\n  }, [client, wallet.id]);\n\n  return (\n    <Container animate=\"fadein\" fullHeight flex=\"column\">\n      <Container p=\"lg\">\n        <ModalHeader\n          title={\n            props.isLinking\n              ? locale.passkeys.linkPasskey\n              : locale.passkeys.title\n          }\n          onBack={props.onBack}\n        />\n      </Container>\n\n      <Container\n        px={size === \"wide\" ? \"xxl\" : \"lg\"}\n        expand\n        flex=\"column\"\n        center=\"y\"\n      >\n        <div>\n          {screen === \"loading\" && (\n            <>\n              <LoadingScreen />\n              <Spacer y=\"xxl\" />\n            </>\n          )}\n\n          {screen === \"select\" && (\n            <SelectLoginMethod\n              onSignin={() => {\n                setScreen(\"login\");\n              }}\n              onSignup={() => {\n                setScreen(\"signup\");\n              }}\n            />\n          )}\n\n          {screen === \"login\" && (\n            <LoginScreen\n              wallet={wallet}\n              client={client}\n              done={done}\n              onCreate={() => {\n                setScreen(\"signup\");\n              }}\n              chain={chain}\n              isLinking={props.isLinking}\n            />\n          )}\n\n          {screen === \"signup\" && (\n            <SignupScreen\n              wallet={wallet}\n              client={client}\n              done={done}\n              chain={chain}\n              isLinking={props.isLinking}\n            />\n          )}\n        </div>\n      </Container>\n    </Container>\n  );\n}\n\nfunction LoginScreen(props: {\n  wallet: Wallet;\n  done: () => void;\n  client: ThirdwebClient;\n  onCreate: () => void;\n  chain?: Chain;\n  isLinking?: boolean;\n}) {\n  const { wallet, done, client, chain } = props;\n  const [status, setStatus] = useState<\"loading\" | \"error\">(\"loading\");\n  const [error, setError] = useState<string | undefined>();\n\n  async function login() {\n    setStatus(\"loading\");\n    try {\n      if (props.isLinking) {\n        await linkProfile(wallet as Wallet<\"inApp\">, {\n          strategy: \"passkey\",\n          type: \"sign-in\",\n        }).catch((e) => {\n          setError(e.message);\n          throw e;\n        });\n      } else {\n        await wallet.connect({\n          client: client,\n          strategy: \"passkey\",\n          type: \"sign-in\",\n          chain,\n        });\n        await setLastAuthProvider(\"passkey\", webLocalStorage);\n      }\n      done();\n    } catch {\n      setStatus(\"error\");\n    }\n  }\n\n  const triggered = useRef(false);\n  useEffect(() => {\n    if (triggered.current) {\n      return;\n    }\n\n    triggered.current = true;\n    login();\n  });\n\n  if (status === \"loading\") {\n    return (\n      <LoadingState\n        title=\"Requesting Passkey\"\n        subtitle=\"A pop-up prompt will appear to sign-in and verify your passkey\"\n        icon={<FingerPrintIcon size={iconSize.xxl} />}\n      />\n    );\n  }\n\n  if (status === \"error\") {\n    return (\n      <>\n        <ErrorState onTryAgain={login} title={error || \"Failed to Login\"} />\n        <Spacer y=\"sm\" />\n        <Button variant=\"outline\" fullWidth onClick={props.onCreate}>\n          Create a new Passkey\n        </Button>\n        <Spacer y=\"lg\" />\n      </>\n    );\n  }\n\n  return null;\n}\n\nfunction SignupScreen(props: {\n  wallet: Wallet;\n  done: () => void;\n  client: ThirdwebClient;\n  chain?: Chain;\n  isLinking?: boolean;\n}) {\n  const { wallet, done, client, chain } = props;\n  const [error, setError] = useState<string | undefined>();\n  const [status, setStatus] = useState<\"loading\" | \"error\">(\"loading\");\n\n  async function signup() {\n    setStatus(\"loading\");\n    try {\n      if (props.isLinking) {\n        await linkProfile(wallet as Wallet<\"inApp\">, {\n          strategy: \"passkey\",\n          type: \"sign-up\",\n        });\n      } else {\n        await wallet.connect({\n          client: client,\n          strategy: \"passkey\",\n          type: \"sign-up\",\n          chain,\n        });\n        await setLastAuthProvider(\"passkey\", webLocalStorage);\n      }\n      done();\n    } catch (e) {\n      console.error(e);\n      if (e instanceof Error) {\n        setError(`Error creating passkey: ${e.message}`);\n      }\n      setStatus(\"error\");\n    }\n  }\n\n  const triggered = useRef(false);\n  useEffect(() => {\n    if (triggered.current) {\n      return;\n    }\n\n    triggered.current = true;\n    signup();\n  });\n\n  if (status === \"loading\") {\n    return (\n      <LoadingState\n        title=\"Creating Passkey\"\n        subtitle=\"A pop-up prompt will appear to sign-in and verify your passkey\"\n        icon={<FingerPrintIcon size={iconSize.xxl} />}\n      />\n    );\n  }\n\n  if (status === \"error\") {\n    return (\n      <>\n        <ErrorState\n          onTryAgain={signup}\n          title={error || \"Failed to create passkey\"}\n        />\n        <Spacer y=\"lg\" />\n      </>\n    );\n  }\n\n  return null;\n}\n\nfunction SelectLoginMethod(props: {\n  onSignin: () => void;\n  onSignup: () => void;\n}) {\n  return (\n    <Container>\n      <Spacer y=\"xxl\" />\n      <Container flex=\"row\" center=\"x\" color=\"accentText\">\n        <FingerPrintIcon size={iconSize[\"4xl\"]} />\n      </Container>\n      <Spacer y=\"xl\" />\n      <Spacer y=\"xxl\" />\n\n      <Button variant=\"accent\" onClick={props.onSignup} fullWidth>\n        Create a Passkey\n      </Button>\n\n      <Spacer y=\"sm\" />\n      <Button variant=\"outline\" onClick={props.onSignin} fullWidth>\n        I have a Passkey\n      </Button>\n\n      <Spacer y=\"lg\" />\n    </Container>\n  );\n}\n","\"use client\";\nimport { useEffect, useRef, useState } from \"react\";\nimport type { Chain } from \"../../../../chains/types.js\";\nimport type { ThirdwebClient } from \"../../../../client/client.js\";\nimport { webLocalStorage } from \"../../../../utils/storage/webStorage.js\";\nimport { isEcosystemWallet } from \"../../../../wallets/ecosystem/is-ecosystem-wallet.js\";\nimport { linkProfile } from \"../../../../wallets/in-app/core/wallet/profiles.js\";\nimport type { InAppWalletSocialAuth } from \"../../../../wallets/in-app/core/wallet/types.js\";\nimport { loginWithOauthRedirect } from \"../../../../wallets/in-app/web/lib/auth/oauth.js\";\nimport type { Wallet } from \"../../../../wallets/interfaces/wallet.js\";\nimport { useCustomTheme } from \"../../../core/design-system/CustomThemeProvider.js\";\nimport { setLastAuthProvider } from \"../../../core/utils/storage.js\";\nimport type { ConnectLocale } from \"../../ui/ConnectWallet/locale/types.js\";\nimport { Spacer } from \"../../ui/components/Spacer.js\";\nimport { Spinner } from \"../../ui/components/Spinner.js\";\nimport { Container, ModalHeader } from \"../../ui/components/basic.js\";\nimport { Button } from \"../../ui/components/buttons.js\";\nimport { Text } from \"../../ui/components/text.js\";\nimport type { ConnectWalletSelectUIState } from \"./ConnectWalletSocialOptions.js\";\nimport type { InAppWalletLocale } from \"./locale/types.js\";\nimport { openOauthSignInWindow } from \"./oauthSignIn.js\";\n\n/**\n * @internal\n */\nexport function SocialLogin(props: {\n  socialAuth: InAppWalletSocialAuth;\n  locale: InAppWalletLocale;\n  wallet: Wallet;\n  done: () => void;\n  goBack?: () => void;\n  state: ConnectWalletSelectUIState;\n  size: \"compact\" | \"wide\";\n  client: ThirdwebClient;\n  chain: Chain | undefined;\n  connectLocale: ConnectLocale;\n  isLinking?: boolean;\n}) {\n  const ewLocale = props.locale;\n  const locale = ewLocale.socialLoginScreen;\n  const themeObj = useCustomTheme();\n\n  const [authError, setAuthError] = useState<string | undefined>(undefined);\n  const { done, wallet } = props;\n  const [status, setStatus] = useState<\"connecting\" | \"connected\" | \"error\">(\n    \"connecting\",\n  );\n\n  const handleSocialLogin = async () => {\n    const walletConfig = wallet.getConfig();\n    if (\n      walletConfig &&\n      \"auth\" in walletConfig &&\n      walletConfig?.auth?.mode === \"redirect\" &&\n      !props.isLinking // Redirect not supported for account linking (we need to maintain the aplication state)\n    ) {\n      return loginWithOauthRedirect({\n        authOption: props.socialAuth,\n        client: props.client,\n        ecosystem: isEcosystemWallet(wallet)\n          ? {\n              id: wallet.id,\n              partnerId: wallet.getConfig()?.partnerId,\n            }\n          : undefined,\n        redirectUrl: walletConfig?.auth?.redirectUrl,\n        redirectExternally: walletConfig?.auth?.redirectExternally,\n      });\n    }\n\n    try {\n      const socialWindow = openOauthSignInWindow({\n        authOption: props.socialAuth,\n        themeObj,\n        client: props.client,\n        ecosystem: isEcosystemWallet(wallet)\n          ? {\n              id: wallet.id,\n              partnerId: wallet.getConfig()?.partnerId,\n            }\n          : undefined,\n      });\n\n      if (!socialWindow) {\n        throw new Error(`Failed to open ${props.socialAuth} login window`);\n      }\n\n      setStatus(\"connecting\");\n      if (props.isLinking) {\n        await linkProfile(wallet as Wallet<\"inApp\">, {\n          strategy: props.socialAuth,\n          openedWindow: socialWindow,\n          closeOpenedWindow: (openedWindow) => {\n            openedWindow.close();\n          },\n        }).catch((e) => {\n          setAuthError(e.message);\n          throw e;\n        });\n      } else {\n        await wallet.connect({\n          chain: props.chain,\n          strategy: props.socialAuth,\n          openedWindow: socialWindow,\n          closeOpenedWindow: (openedWindow) => {\n            openedWindow.close();\n          },\n          client: props.client,\n        });\n      }\n\n      await setLastAuthProvider(props.socialAuth, webLocalStorage);\n      setStatus(\"connected\");\n      done();\n    } catch (e) {\n      setStatus(\"error\");\n      // TODO this only happens on 'retry' button click, not on initial login\n      // should pass auth error message to this component\n      if (\n        e instanceof Error &&\n        e?.message?.includes(\"PAYMENT_METHOD_REQUIRED\")\n      ) {\n        setAuthError(ewLocale.maxAccountsExceeded);\n      }\n      console.error(`Error sign in with ${props.socialAuth}`, e);\n    }\n  };\n\n  // const { setModalVisibility } = props.connectUIProps.screenConfig;\n  const socialLogin = props.state?.socialLogin;\n\n  const socialLoginStarted = useRef(false);\n  useEffect(() => {\n    if (socialLoginStarted.current) {\n      return;\n    }\n\n    if (socialLogin) {\n      socialLoginStarted.current = true;\n      setStatus(\"connecting\");\n      socialLogin.connectionPromise\n        .then(() => {\n          done();\n          setStatus(\"connected\");\n        })\n        .catch((e) => {\n          setAuthError(e.message);\n          setStatus(\"error\");\n        });\n    }\n  }, [done, socialLogin]);\n\n  return (\n    <Container animate=\"fadein\" flex=\"column\" fullHeight>\n      <Container\n        flex=\"column\"\n        expand\n        p=\"lg\"\n        style={{\n          paddingBottom: 0,\n        }}\n      >\n        {props.goBack && (\n          <ModalHeader\n            title={\n              props.isLinking\n                ? props.connectLocale.manageWallet.linkProfile\n                : locale.title\n            }\n            onBack={props.goBack}\n          />\n        )}\n\n        {props.size === \"compact\" ? <Spacer y=\"xl\" /> : null}\n\n        <Container\n          flex=\"column\"\n          center=\"both\"\n          expand\n          style={{\n            textAlign: \"center\",\n            minHeight: \"250px\",\n          }}\n        >\n          {status !== \"error\" && (\n            <Container animate=\"fadein\">\n              <Text\n                color=\"primaryText\"\n                center\n                multiline\n                style={{\n                  maxWidth: \"250px\",\n                }}\n              >\n                {locale.instruction}\n              </Text>\n              <Spacer y=\"xl\" />\n              <Container center=\"x\" flex=\"row\">\n                <Spinner size=\"lg\" color=\"accentText\" />\n              </Container>\n\n              <Spacer y=\"xxl\" />\n            </Container>\n          )}\n\n          {status === \"error\" && (\n            <Container animate=\"fadein\">\n              {authError ? (\n                <Text center color=\"danger\">\n                  {authError}\n                </Text>\n              ) : (\n                <Text color=\"danger\">{locale.failed}</Text>\n              )}\n              <Spacer y=\"lg\" />\n              <Button variant=\"primary\" onClick={handleSocialLogin}>\n                {locale.retry}\n              </Button>\n              <Spacer y=\"xxl\" />\n            </Container>\n          )}\n        </Container>\n      </Container>\n    </Container>\n  );\n}\n","import type { ThirdwebClient } from \"../../../../../client/client.js\";\nimport type { OneOf } from \"../../../../../utils/type-utils.js\";\nimport type { SocialAuthOption } from \"../../../../../wallets/types.js\";\nimport {\n  type AuthArgsType,\n  type GetAuthenticatedUserParams,\n  type PreAuthArgsType,\n  UserWalletStatus,\n} from \"../../../core/authentication/types.js\";\nimport { getOrCreateInAppWalletConnector } from \"../../../core/wallet/in-app-core.js\";\nimport type { Ecosystem } from \"../../types.js\";\n\n// ---- KEEP IN SYNC WITH /wallets/in-app/native/auth/index.ts ---- //\n// duplication needed for separate exports between web and native\n\n/**\n * @internal\n */\nasync function getInAppWalletConnector(\n  client: ThirdwebClient,\n  ecosystem?: Ecosystem,\n) {\n  return getOrCreateInAppWalletConnector(\n    client,\n    async (client) => {\n      const { InAppWebConnector } = await import(\"../web-connector.js\");\n      return new InAppWebConnector({\n        client: client,\n        ecosystem: ecosystem,\n      });\n    },\n    ecosystem,\n  );\n}\n\n/**\n * Retrieves the authenticated user for the active in-app wallet.\n * @param options - The arguments for retrieving the authenticated user.\n * @returns The authenticated user if logged in and wallet initialized, otherwise undefined.\n * @example\n * ```ts\n * import { getAuthenticatedUser } from \"thirdweb/wallets/in-app\";\n *\n * const user = await getAuthenticatedUser({ client });\n * if (user) {\n *  console.log(user.walletAddress);\n * }\n * ```\n * @wallet\n */\nexport async function getAuthenticatedUser(\n  options: GetAuthenticatedUserParams,\n) {\n  const { client } = options;\n  const connector = await getInAppWalletConnector(client);\n  const user = await connector.getUser();\n  switch (user.status) {\n    case UserWalletStatus.LOGGED_IN_WALLET_INITIALIZED: {\n      return user;\n    }\n  }\n  return undefined;\n}\n\n/**\n * Retrieves the authenticated user email for the active in-app wallet.\n * @param options - The arguments for retrieving the authenticated user.\n * @returns The authenticated user email if logged in and wallet initialized, otherwise undefined.\n * @example\n * ```ts\n * import { getUserEmail } from \"thirdweb/wallets/in-app\";\n *\n * const email = await getUserEmail({ client });\n * console.log(email);\n * ```\n * @wallet\n */\nexport async function getUserEmail(options: GetAuthenticatedUserParams) {\n  const user = await getAuthenticatedUser(options);\n  if (user && \"email\" in user.authDetails) {\n    return user.authDetails.email;\n  }\n  return undefined;\n}\n\n/**\n * Retrieves the authenticated user phone number for the active embedded wallet.\n * @param options - The arguments for retrieving the authenticated user.\n * @returns The authenticated user phone number if authenticated with phone number, otherwise undefined.\n * @example\n * ```ts\n * import { getUserPhoneNumber } from \"thirdweb/wallets/embedded\";\n *\n * const phoneNumber = await getUserPhoneNumber({ client });\n * console.log(phoneNumber);\n * ```\n * @wallet\n */\nexport async function getUserPhoneNumber(options: GetAuthenticatedUserParams) {\n  const user = await getAuthenticatedUser(options);\n  if (user && \"phoneNumber\" in user.authDetails) {\n    return user.authDetails.phoneNumber;\n  }\n  return undefined;\n}\n\n/**\n * Pre-authenticates the user based on the provided authentication strategy.\n * Use this function to send a verification code to the user's email or phone number.\n * @param args - The arguments required for pre-authentication.\n * @returns A promise that resolves to the pre-authentication result.\n * @throws An error if the provided authentication strategy doesn't require pre-authentication.\n * @example\n * ```ts\n * import { preAuthenticate } from \"thirdweb/wallets/in-app\";\n *\n * const result = await preAuthenticate({\n *  client,\n *  strategy: \"email\",\n *  email: \"example@example.org\",\n * });\n * ```\n * @wallet\n */\nexport async function preAuthenticate(args: PreAuthArgsType) {\n  const connector = await getInAppWalletConnector(args.client, args.ecosystem);\n  return connector.preAuthenticate(args);\n}\n\n/**\n * Authenticates the user based on the provided authentication arguments.\n * @param args - The authentication arguments.\n * @returns A promise that resolves to the authentication result.\n * @example\n * ```ts\n * import { authenticate } from \"thirdweb/wallets/in-app\";\n *\n * const result = await authenticate({\n *  client,\n *  strategy: \"email\",\n *  email: \"example@example.org\",\n *  verificationCode: \"123456\",\n * });\n * ```\n * @wallet\n */\nexport async function authenticate(\n  args: OneOf<\n    | AuthArgsType\n    | {\n        strategy: SocialAuthOption;\n        client: ThirdwebClient;\n        ecosystem?: Ecosystem;\n        redirect: boolean;\n      }\n  >,\n) {\n  const connector = await getInAppWalletConnector(args.client, args.ecosystem);\n  if (args.redirect && connector.authenticateWithRedirect)\n    return connector.authenticateWithRedirect(args.strategy);\n  return connector.connect(args);\n}\n"],"names":["ErrorState","props","_jsxs","Container","animate","children","_jsx","Spacer","y","flex","center","AccentFailIcon","size","iconSize","Text","color","title","Button","variant","fullWidth","onClick","onTryAgain","LoadingState","style","position","Spinner","top","left","transform","icon","multiline","subtitle","FadeIn","StyledDiv","animation","concat","fadeInAnimation","bt","Ot","Gt","join","xt","n","jt","m","v","Y","it","lt","ut","dt","g","value","r","onChange","s","maxLength","e","textAlign","u","pattern","h","inputMode","W","onComplete","B","pushPasswordManagerStrategy","z","containerClassName","q","noScriptCSSFallback","j","Lt","render","A","V","c","St","k","M","defaultValue","a","b","Z","current","ht","O","t","d","RegExp","i","K","J","isIOS","window","CSS","supports","call","X","prev","selectionStart","selectionEnd","selectionDirection","o","f","document","activeElement","N","$","I","l","S","w","D","P","E","T","length","yt","Dt","H","et","Ht","setSelectionRange","ft","mt","Ct","addEventListener","capture","Q","getElementById","createElement","id","head","appendChild","sheet","F","p","updateRootHeight","setProperty","clientHeight","_","ResizeObserver","observe","removeEventListener","disconnect","nt","ot","L","C","G","setTimeout","Pt","dispatchEvent","Event","x","_ref","containerRef","inputRef","isFocused","R","done","refocused","getBoundingClientRect","offsetWidth","offsetHeight","querySelectorAll","elementFromPoint","blur","focus","innerWidth","right","setInterval","clearInterval","clearTimeout","hasPWMBadge","willPushPWMBadge","PWM_BADGE_SPACE_WIDTH","wt","rt","currentTarget","slice","test","preventDefault","st","Math","min","ct","clipboardData","getData","Tt","cursor","disabled","userSelect","WebkitUserSelect","pointerEvents","at","inset","width","clipPath","height","display","opacity","background","caretColor","border","outline","boxShadow","lineHeight","letterSpacing","fontSize","fontFamily","fontVariantNumeric","It","Et","gt","autoComplete","source","ref","onPaste","onMouseOver","onMouseLeave","onFocus","onBlur","tt","slots","Array","from","map","char","isActive","hasFakeCaret","isHovering","Mt","Provider","className","insertRule","console","error","displayName","_templateObject","OTPInput","OTPInputContainer","InputOTP","onEnter","gap","slot","idx","Slot","isInvalid","newValue","setValue","maxWidth","OTPInputBox","FakeCaret","caretBlink","keyframes","_taggedTemplateLiteral","theme","useCustomTheme","alignItems","justifyContent","content","backgroundColor","colors","primaryText","md","padding","spacing","xs","boxSizing","transition","borderColor","accentText","borderRadius","radius","lg","danger","OTPLoginUI","wallet","goBack","userInfo","isWideModal","locale","otpInput","setOtpInput","useState","verifyStatus","setVerifyStatus","setError","accountStatus","setAccountStatus","isEcosystem","useMemo","isEcosystemWallet","screen","sendEmailOrSms","useCallback","async","_wallet$getConfig","preAuthenticate","ecosystem","partnerId","getConfig","undefined","email","strategy","client","Error","_wallet$getConfig2","phoneNumber","phone","verify","otp","isLinking","linkProfile","verificationCode","link","connect","chain","setLastAuthProvider","webLocalStorage","_e$message","message","includes","toLowerCase","emailSentOnMount","useRef","useEffect","fullHeight","ModalHeader","signIn","onBack","expand","onSubmit","px","emailLoginScreen","enterCodeSendTo","digits","invalidCode","maxAccountsExceeded","_Fragment","type","Line","failedToSendCode","sendingCode","LinkButton","resendCode","StyledButton","all","sm","fontWeight","FingerPrintIcon","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","PassKeyLogin","setScreen","triggered","hasStoredPasskey","then","isStored","catch","passkeys","linkPasskey","LoadingScreen","SelectLoginMethod","onSignin","onSignup","LoginScreen","onCreate","SignupScreen","status","setStatus","login","xxl","signup","SocialLogin","_props$state","ewLocale","socialLoginScreen","themeObj","authError","setAuthError","socialLogin","state","socialLoginStarted","connectionPromise","paddingBottom","connectLocale","manageWallet","minHeight","instruction","failed","_walletConfig$auth","walletConfig","_walletConfig$auth2","_walletConfig$auth3","auth","mode","loginWithOauthRedirect","authOption","socialAuth","redirectUrl","redirectExternally","socialWindow","openOauthSignInWindow","openedWindow","closeOpenedWindow","close","retry","getInAppWalletConnector","getOrCreateInAppWalletConnector","InAppWebConnector","getAuthenticatedUser","options","connector","user","getUser","UserWalletStatus","LOGGED_IN_WALLET_INITIALIZED","getUserEmail","authDetails","getUserPhoneNumber","args"],"sourceRoot":""}