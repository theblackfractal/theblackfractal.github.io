"use strict";(self.webpackChunkinterzone=self.webpackChunkinterzone||[]).push([[78099],{78099:(e,n,t)=>{t.d(n,{estimateL1Fee:()=>oe});const o={ether:-9,wei:9};function a(e,n){let t=e.toString();const o=t.startsWith("-");o&&(t=t.slice(1)),t=t.padStart(n,"0");let[a,r]=[t.slice(0,t.length-n),t.slice(t.length-n)];return r=r.replace(/(0+)$/,""),"".concat(o?"-":"").concat(a||"0").concat(r?".".concat(r):"")}function r(e){return a(e,o[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"wei"])}var s=t(21627);function i(e){const n=Object.entries(e).map((e=>{let[n,t]=e;return void 0===t||!1===t?null:[n,t]})).filter(Boolean),t=n.reduce(((e,n)=>{let[t]=n;return Math.max(e,t.length)}),0);return n.map((e=>{let[n,o]=e;return"  ".concat("".concat(n,":").padEnd(t+1),"  ").concat(o)})).join("\n")}s.C;class c extends s.C{constructor(e){let{v:n}=e;super('Invalid `v` value "'.concat(n,'". Expected 27 or 28.'),{name:"InvalidLegacyVError"})}}class u extends s.C{constructor(e){let{transaction:n}=e;super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",i(n),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}s.C;s.C;class l extends s.C{constructor(e){let{storageKey:n}=e;super('Size for storage key "'.concat(n,'" is invalid. Expected 32 bytes. Got ').concat(Math.floor((n.length-2)/2)," bytes."),{name:"InvalidStorageKeySizeError"})}}s.C;s.C;s.C;s.C;var d=t(37131),h=t(84117);function f(e){var n;const{kzg:t}=e,o=null!==(n=e.to)&&void 0!==n?n:"string"===typeof e.blobs[0]?"hex":"bytes",a="string"===typeof e.blobs[0]?e.blobs.map((e=>(0,d.aT)(e))):e.blobs,r=[];for(const s of a)r.push(Uint8Array.from(t.blobToKzgCommitment(s)));return"bytes"===o?r:r.map((e=>(0,h.My)(e)))}function p(e){var n;const{kzg:t}=e,o=null!==(n=e.to)&&void 0!==n?n:"string"===typeof e.blobs[0]?"hex":"bytes",a="string"===typeof e.blobs[0]?e.blobs.map((e=>(0,d.aT)(e))):e.blobs,r="string"===typeof e.commitments[0]?e.commitments.map((e=>(0,d.aT)(e))):e.commitments,s=[];for(let i=0;i<a.length;i++){const e=a[i],n=r[i];s.push(Uint8Array.from(t.computeBlobKzgProof(e,n)))}return"bytes"===o?s:s.map((e=>(0,h.My)(e)))}var g=t(98780),m=t(31499);function b(e){var n;const{commitment:t,version:o=1}=e,a=null!==(n=e.to)&&void 0!==n?n:"string"===typeof t?"hex":"bytes",r=function(e,n){const t=n||"hex",o=(0,g.s)((0,m.q)(e,{strict:!1})?(0,d.ZJ)(e):e);return"bytes"===t?o:(0,h.nj)(o)}(t,"bytes");return r.set([o],0),"bytes"===a?r:(0,h.My)(r)}const x=32,v=4096,y=x*v,w=6*y-1-1*v*6,P=1;class j extends s.C{constructor(e){let{maxSize:n,size:t}=e;super("Blob size is too large.",{metaMessages:["Max: ".concat(n," bytes"),"Given: ".concat(t," bytes")],name:"BlobSizeTooLargeError"})}}class C extends s.C{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class E extends s.C{constructor(e){let{hash:n,size:t}=e;super('Versioned hash "'.concat(n,'" size is invalid.'),{metaMessages:["Expected: 32","Received: ".concat(t)],name:"InvalidVersionedHashSizeError"})}}class F extends s.C{constructor(e){let{hash:n,version:t}=e;super('Versioned hash "'.concat(n,'" version is invalid.'),{metaMessages:["Expected: ".concat(P),"Received: ".concat(t)],name:"InvalidVersionedHashVersionError"})}}var G=t(30751),T=t(22017);function I(e){var n,t,o;const{data:a,kzg:r,to:s}=e,i=null!==(n=e.blobs)&&void 0!==n?n:function(e){var n;const t=null!==(n=e.to)&&void 0!==n?n:"string"===typeof e.data?"hex":"bytes",o="string"===typeof e.data?(0,d.aT)(e.data):e.data,a=(0,T.E)(o);if(!a)throw new C;if(a>w)throw new j({maxSize:w,size:a});const r=[];let s=!0,i=0;for(;s;){const e=(0,G.l)(new Uint8Array(y));let n=0;for(;n<v;){const t=o.slice(i,i+(x-1));if(e.pushByte(0),e.pushBytes(t),t.length<31){e.pushByte(128),s=!1;break}n++,i+=31}r.push(e)}return"bytes"===t?r.map((e=>e.bytes)):r.map((e=>(0,h.My)(e.bytes)))}({data:a,to:s}),c=null!==(t=e.commitments)&&void 0!==t?t:f({blobs:i,kzg:r,to:s}),u=null!==(o=e.proofs)&&void 0!==o?o:p({blobs:i,commitments:c,kzg:r,to:s}),l=[];for(let d=0;d<i.length;d++)l.push({blob:i[d],commitment:c[d],proof:u[d]});return l}var M=t(52620),z=t(48604),B=t(77378);var k=t(3491);s.C;s.C;s.C;s.C;class L extends s.C{constructor(e){let{chainId:n}=e;super("number"===typeof n?'Chain ID "'.concat(n,'" is invalid.'):"Chain ID is invalid.",{name:"InvalidChainIdError"})}}class O extends s.C{constructor(){var e;let{cause:n,message:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=null===t||void 0===t||null===(e=t.replace("execution reverted: ",""))||void 0===e?void 0:e.replace("execution reverted","");super("Execution reverted ".concat(o?"with reason: ".concat(o):"for an unknown reason","."),{cause:n,name:"ExecutionRevertedError"})}}Object.defineProperty(O,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(O,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class U extends s.C{constructor(){let{cause:e,maxFeePerGas:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("The fee cap (`maxFeePerGas`".concat(n?" = ".concat(r(n)," gwei"):"",") cannot be higher than the maximum allowed value (2^256-1)."),{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(U,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class S extends s.C{constructor(){let{cause:e,maxFeePerGas:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("The fee cap (`maxFeePerGas`".concat(n?" = ".concat(r(n)):""," gwei) cannot be lower than the block base fee."),{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(S,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class V extends s.C{constructor(){let{cause:e,nonce:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("Nonce provided for the transaction ".concat(n?"(".concat(n,") "):"","is higher than the next one expected."),{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(V,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class A extends s.C{constructor(){let{cause:e,nonce:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(["Nonce provided for the transaction ".concat(n?"(".concat(n,") "):"","is lower than the current nonce of the account."),"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join("\n"),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(A,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class H extends s.C{constructor(){let{cause:e,nonce:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("Nonce provided for the transaction ".concat(n?"(".concat(n,") "):"","exceeds the maximum allowed nonce."),{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(H,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class N extends s.C{constructor(){let{cause:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join("\n"),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(N,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class Q extends s.C{constructor(){let{cause:e,gas:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("The amount of gas ".concat(n?"(".concat(n,") "):"","provided for the transaction exceeds the limit allowed for the block."),{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Q,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class K extends s.C{constructor(){let{cause:e,gas:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("The amount of gas ".concat(n?"(".concat(n,") "):"","provided for the transaction is too low."),{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(K,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class R extends s.C{constructor(e){let{cause:n}=e;super("The transaction type is not supported for this chain.",{cause:n,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(R,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class D extends s.C{constructor(){let{cause:e,maxPriorityFeePerGas:n,maxFeePerGas:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(["The provided tip (`maxPriorityFeePerGas`".concat(n?" = ".concat(r(n)," gwei"):"",") cannot be higher than the fee cap (`maxFeePerGas`").concat(t?" = ".concat(r(t)," gwei"):"",").")].join("\n"),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(D,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});s.C;var $=t(74074),q=t(36220),J=t(67962);function W(e){const{chainId:n,maxPriorityFeePerGas:t,maxFeePerGas:o,to:a}=e;if(n<=0)throw new L({chainId:n});if(a&&!(0,$.P)(a))throw new k.M({address:a});if(o&&o>2n**256n-1n)throw new U({maxFeePerGas:o});if(t&&o&&t>o)throw new D({maxFeePerGas:o,maxPriorityFeePerGas:t})}function Z(e){if(!e||0===e.length)return[];const n=[];for(let t=0;t<e.length;t++){const{address:o,storageKeys:a}=e[t];for(let e=0;e<a.length;e++)if(a[e].length-2!==64)throw new l({storageKey:a[e]});if(!(0,$.P)(o,{strict:!1}))throw new k.M({address:o});n.push([o,a])}return n}function _(e,n){const t=function(e){if(e.type)return e.type;if("undefined"!==typeof e.authorizationList)return"eip7702";if("undefined"!==typeof e.blobs||"undefined"!==typeof e.blobVersionedHashes||"undefined"!==typeof e.maxFeePerBlobGas||"undefined"!==typeof e.sidecars)return"eip4844";if("undefined"!==typeof e.maxFeePerGas||"undefined"!==typeof e.maxPriorityFeePerGas)return"eip1559";if("undefined"!==typeof e.gasPrice)return"undefined"!==typeof e.accessList?"eip2930":"legacy";throw new u({transaction:e})}(e);return"eip1559"===t?function(e,n){const{chainId:t,gas:o,nonce:a,to:r,value:s,maxFeePerGas:i,maxPriorityFeePerGas:c,accessList:u,data:l}=e;W(e);const d=Z(u),f=[(0,h.nj)(t),a?(0,h.nj)(a):"0x",c?(0,h.nj)(c):"0x",i?(0,h.nj)(i):"0x",o?(0,h.nj)(o):"0x",null!==r&&void 0!==r?r:"0x",s?(0,h.nj)(s):"0x",null!==l&&void 0!==l?l:"0x",d,...X(e,n)];return(0,M.aP)(["0x02",(0,B.EQ)(f)])}(e,n):"eip2930"===t?function(e,n){const{chainId:t,gas:o,data:a,nonce:r,to:i,value:c,accessList:u,gasPrice:l}=e;!function(e){const{chainId:n,maxPriorityFeePerGas:t,gasPrice:o,maxFeePerGas:a,to:r}=e;if(n<=0)throw new L({chainId:n});if(r&&!(0,$.P)(r))throw new k.M({address:r});if(t||a)throw new s.C("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(o&&o>2n**256n-1n)throw new U({maxFeePerGas:o})}(e);const d=Z(u),f=[(0,h.nj)(t),r?(0,h.nj)(r):"0x",l?(0,h.nj)(l):"0x",o?(0,h.nj)(o):"0x",null!==i&&void 0!==i?i:"0x",c?(0,h.nj)(c):"0x",null!==a&&void 0!==a?a:"0x",d,...X(e,n)];return(0,M.aP)(["0x01",(0,B.EQ)(f)])}(e,n):"eip4844"===t?function(e,n){var t;const{chainId:o,gas:a,nonce:r,to:s,value:i,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:l,accessList:d,data:g}=e;!function(e){const{blobVersionedHashes:n}=e;if(n){if(0===n.length)throw new C;for(const e of n){const n=(0,T.E)(e),t=(0,J.ME)((0,q.di)(e,0,1));if(32!==n)throw new E({hash:e,size:n});if(t!==P)throw new F({hash:e,version:t})}}W(e)}(e);let m=e.blobVersionedHashes,x=e.sidecars;if(e.blobs&&("undefined"===typeof m||"undefined"===typeof x)){const n="string"===typeof e.blobs[0]?e.blobs:e.blobs.map((e=>(0,h.My)(e))),t=e.kzg,o=f({blobs:n,kzg:t});if("undefined"===typeof m&&(m=function(e){var n;const{commitments:t,version:o}=e,a=null!==(n=e.to)&&void 0!==n?n:"string"===typeof t[0]?"hex":"bytes",r=[];for(const s of t)r.push(b({commitment:s,to:a,version:o}));return r}({commitments:o})),"undefined"===typeof x){x=I({blobs:n,commitments:o,proofs:p({blobs:n,commitments:o,kzg:t})})}}const v=Z(d),y=[(0,h.nj)(o),r?(0,h.nj)(r):"0x",l?(0,h.nj)(l):"0x",u?(0,h.nj)(u):"0x",a?(0,h.nj)(a):"0x",null!==s&&void 0!==s?s:"0x",i?(0,h.nj)(i):"0x",null!==g&&void 0!==g?g:"0x",v,c?(0,h.nj)(c):"0x",null!==(t=m)&&void 0!==t?t:[],...X(e,n)],w=[],j=[],G=[];if(x)for(let h=0;h<x.length;h++){const{blob:e,commitment:n,proof:t}=x[h];w.push(e),j.push(n),G.push(t)}return(0,M.aP)(["0x03",x?(0,B.EQ)([y,w,j,G]):(0,B.EQ)(y)])}(e,n):"eip7702"===t?function(e,n){const{authorizationList:t,chainId:o,gas:a,nonce:r,to:s,value:i,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:l,data:d}=e;!function(e){const{authorizationList:n}=e;if(n)for(const t of n){const{contractAddress:e,chainId:n}=t;if(!(0,$.P)(e))throw new k.M({address:e});if(n<=0)throw new L({chainId:n})}W(e)}(e);const f=Z(l),p=function(e){if(!e||0===e.length)return[];const n=[];for(const t of e){const{contractAddress:e,chainId:o,nonce:a,...r}=t;n.push([(0,h.nj)(o),e,[a?(0,h.nj)(a):"0x"],...X({},r)])}return n}(t);return(0,M.aP)(["0x04",(0,B.EQ)([(0,h.nj)(o),r?(0,h.nj)(r):"0x",u?(0,h.nj)(u):"0x",c?(0,h.nj)(c):"0x",a?(0,h.nj)(a):"0x",null!==s&&void 0!==s?s:"0x",i?(0,h.nj)(i):"0x",null!==d&&void 0!==d?d:"0x",f,p,...X(e,n)])])}(e,n):function(e,n){const{chainId:t=0,gas:o,data:a,nonce:r,to:i,value:u,gasPrice:l}=e;!function(e){const{chainId:n,maxPriorityFeePerGas:t,gasPrice:o,maxFeePerGas:a,to:r}=e;if(r&&!(0,$.P)(r))throw new k.M({address:r});if("undefined"!==typeof n&&n<=0)throw new L({chainId:n});if(t||a)throw new s.C("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(o&&o>2n**256n-1n)throw new U({maxFeePerGas:o})}(e);let d=[r?(0,h.nj)(r):"0x",l?(0,h.nj)(l):"0x",o?(0,h.nj)(o):"0x",null!==i&&void 0!==i?i:"0x",u?(0,h.nj)(u):"0x",null!==a&&void 0!==a?a:"0x"];if(n){const e=(()=>{if(n.v>=35n){return(n.v-35n)/2n>0?n.v:27n+(35n===n.v?0n:1n)}if(t>0)return BigInt(2*t)+BigInt(35n+n.v-27n);const e=27n+(27n===n.v?0n:1n);if(n.v!==e)throw new c({v:n.v});return e})(),o=(0,z.B)(n.r),a=(0,z.B)(n.s);d=[...d,(0,h.nj)(e),"0x00"===o?"0x":o,"0x00"===a?"0x":a]}else t>0&&(d=[...d,(0,h.nj)(t),"0x","0x"]);return(0,B.EQ)(d)}(e,n)}function X(e,n){const t=null!==n&&void 0!==n?n:e,{v:o,yParity:a}=t;if("undefined"===typeof t.r)return[];if("undefined"===typeof t.s)return[];if("undefined"===typeof o&&"undefined"===typeof a)return[];const r=(0,z.B)(t.r),s=(0,z.B)(t.s);return["number"===typeof a?a?(0,h.nj)(1):"0x":0n===o?"0x":1n===o?(0,h.nj)(1):27n===o?"0x":(0,h.nj)(1),"0x00"===r?"0x":r,"0x00"===s?"0x":s]}var Y=t(38736),ee=t(77300),ne=t(86511);const te="0x420000000000000000000000000000000000000F";async function oe(e){const{transaction:n,gasPriceOracleAddress:t}=e,o=(0,Y.P)({client:n.client,address:t||te,chain:n.chain}),{gasPrice:a,...r}=await(0,ee.$)({transaction:n}),s=_({...r,type:"eip1559"});return(0,ne.readContract)({contract:o,method:"function getL1Fee(bytes memory _data) view returns (uint256)",params:[s]})}},77378:(e,n,t)=>{t.d(n,{EQ:()=>i});var o=t(21627),a=t(30751),r=t(37131),s=t(84117);function i(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hex";const t=c(e),o=(0,a.l)(new Uint8Array(t.length));return t.encode(o),"hex"===n?(0,s.My)(o.bytes):o.bytes}function c(e){return Array.isArray(e)?function(e){const n=e.reduce(((e,n)=>e+n.length),0),t=u(n);return{length:n<=55?1+n:1+t+n,encode(o){n<=55?o.pushByte(192+n):(o.pushByte(247+t),1===t?o.pushUint8(n):2===t?o.pushUint16(n):3===t?o.pushUint24(n):o.pushUint32(n));for(const{encode:n}of e)n(o)}}}(e.map((e=>c(e)))):function(e){const n="string"===typeof e?(0,r.aT)(e):e,t=u(n.length),o=1===n.length&&n[0]<128?1:n.length<=55?1+n.length:1+t+n.length;return{length:o,encode(e){1===n.length&&n[0]<128?e.pushBytes(n):n.length<=55?(e.pushByte(128+n.length),e.pushBytes(n)):(e.pushByte(183+t),1===t?e.pushUint8(n.length):2===t?e.pushUint16(n.length):3===t?e.pushUint24(n.length):e.pushUint32(n.length),e.pushBytes(n))}}}(e)}function u(e){if(e<256)return 1;if(e<65536)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new o.C("Length is too large.")}}}]);
//# sourceMappingURL=78099.4464071f.chunk.js.map