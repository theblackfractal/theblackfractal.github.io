"use strict";(self.webpackChunkinterzone=self.webpackChunkinterzone||[]).push([[55749],{41009:(e,n,t)=>{t.d(n,{H:()=>i});var o=t(65043);function i(e){const[n,i]=(0,o.useState)(void 0);return(0,o.useEffect)((()=>{(async function(e){switch(e){case"es_ES":return(await t.e(36384).then(t.bind(t,36384))).default;case"ja_JP":return(await t.e(94217).then(t.bind(t,94217))).default;case"tl_PH":return(await t.e(86528).then(t.bind(t,86528))).default;case"vi_VN":return(await t.e(52461).then(t.bind(t,52461))).default;case"de_DE":return(await t.e(6319).then(t.bind(t,6319))).default;case"ko_KR":return(await t.e(40969).then(t.bind(t,40969))).default;case"fr_FR":return(await t.e(56092).then(t.bind(t,56092))).default;default:return(await t.e(41355).then(t.bind(t,41355))).default}})(e).then((e=>{i(e)}))}),[e]),n}},29717:(e,n,t)=>{t.d(n,{D:()=>j});var o=t(70579),i=t(65458),a=t(12265),r=t(65043),c=t(22318),l=t(18342);var s=t(81270),d=t(23102),u=t(9142),h=t(87029),p=t(56703),w=t(73310),m=t(74394),g=t(19983),f=t(83530),y=t(70252),v=t(35739),x=t(92152),k=t(14494),b=t(34153),I=t(41943);var E=t(43571),W=t(49354);const O=["email","phone","google","apple","facebook","passkey"],j=e=>{var n,t,i;const b=e.locale,{wallet:j}=e,L=(0,f.IU)(),R=(0,p.QP)(),S={google:b.signInWithGoogle,facebook:b.signInWithFacebook,apple:b.signInWithApple,discord:b.signInWithDiscord,farcaster:"Farcaster",telegram:"Telegram"},{data:P,isLoading:U}=(0,a.I)({queryKey:["auth-options",j.id],queryFn:async()=>(0,s.Y)(j)?async function(e){var n;const t=await fetch("".concat((0,l.Wg)("inAppWallet"),"/api/2024-05-05/ecosystem-wallet"),{headers:{"x-ecosystem-id":e}}),o=await t.json();if(!o||"UNAUTHORIZED"===o.code)throw new Error(o.message||"Could not find ecosystem wallet with id ".concat(e,", please check your ecosystem wallet configuration."));return null!==(n=o.authOptions)&&void 0!==n?n:void 0}(j.id):null,enabled:(0,s.Y)(j),retry:!1}),F=(0,s.Y)(j)?null!==P&&void 0!==P?P:O:null!==(n=null===(t=j.getConfig())||void 0===t||null===(t=t.auth)||void 0===t?void 0:t.options)&&void 0!==n?n:O,A=F.indexOf("email"),K=-1!==A,Y=F.indexOf("phone"),T=-1!==Y,[B,M]=(0,r.useState)(null),_=(0,r.useMemo)((()=>B||(K&&T?A<Y?"email":"phone":K?"email":T?"phone":"none")),[K,T,A,Y,B]);if((0,s.Y)(j)&&U)return(0,o.jsx)(E.x,{});const H=F.includes("passkey"),N="email"===_?b.emailPlaceholder:b.phonePlaceholder,q="email"===_?b.emailRequired:b.phoneRequired;let z="text";"email"===_?z="email":"phone"===_&&(z="tel");const D=F.filter((e=>h.Y.includes(e))),G=D.length>0,$=(0,s.Y)(j)?{id:j.id,partnerId:null===(i=j.getConfig())||void 0===i?void 0:i.partnerId}:void 0;const J=D.length>2;return(0,o.jsxs)(k.mc,{flex:"column",gap:"md",style:{position:"relative"},children:[G&&(0,o.jsx)(k.mc,{flex:"row",center:"x",gap:D.length>4?"xs":"sm",style:{justifyContent:"space-between",display:"grid",gridTemplateColumns:"repeat(".concat(D.length,", 1fr)")},children:D.map((n=>{const t=J?D.length>4?w.RK.md:w.RK.lg:w.RK.md;return(0,o.jsxs)(C,{"aria-label":"Login with ".concat(n),"data-variant":J?"icon":"full",variant:"outline",onClick:()=>{(async n=>{var t;const o=j.getConfig();var i,a;if(o&&"auth"in o&&"redirect"===(null===o||void 0===o||null===(t=o.auth)||void 0===t?void 0:t.mode)&&!e.isLinking)return(0,u.N)({authOption:n,client:e.client,ecosystem:$,redirectUrl:null===o||void 0===o||null===(i=o.auth)||void 0===i?void 0:i.redirectUrl,redirectExternally:null===o||void 0===o||null===(a=o.auth)||void 0===a?void 0:a.redirectExternally});try{const t=(0,W.C)({authOption:n,themeObj:R,client:e.client,ecosystem:$});if(!t)throw new Error("Failed to open login window");const o={chain:e.chain,client:e.client,strategy:n,openedWindow:t,closeOpenedWindow:e=>{e.close()}},i=(()=>{if(e.isLinking){if("inApp"!==j.id)throw new Error("Only in-app wallets support multi-auth");return(0,d.o)(j,o)}{const e=j.connect(o);return(0,m.O)(n,c.n),e}})();L({socialLogin:{type:n,connectionPromise:i}}),e.select()}catch(r){console.error("Error signing in with ".concat(n),r)}})(n)},children:[(0,o.jsx)(v.E,{src:g.wP[n],width:t,height:t,client:e.client}),!J&&"".concat(1===D.length?"Continue with ":"").concat(S[n])]},n)}))}),"wide"===e.size&&G&&(K||T)&&(0,o.jsx)(x.l,{text:b.or}),K&&(0,o.jsx)(o.Fragment,{children:"email"===_?(0,o.jsx)(I.n,{type:z,onSelect:n=>{L({emailLogin:n}),e.select()},placeholder:N,name:"email",errorMessage:e=>{var n;if(!(n=e.toLowerCase(),/^\S+@\S+\.\S+$/.test(n.replace(/\+/g,""))))return b.invalidEmail},emptyErrorMessage:q,submitButtonText:b.submitEmail}):(0,o.jsx)(y.m,{client:e.client,icon:g.M6,onClick:()=>{M("email")},title:b.emailPlaceholder})}),T&&(0,o.jsx)(o.Fragment,{children:"phone"===_?(0,o.jsx)(I.n,{format:"phone",type:z,onSelect:n=>{L({phoneLogin:n.replace(/[-\(\) ]/g,"")}),e.select()},placeholder:N,name:"phone",errorMessage:e=>{const n=e.replace(/[-\(\) ]/g,"");if(!/^[0-9]+$/.test(n)&&T)return b.invalidPhone},emptyErrorMessage:q,submitButtonText:b.submitEmail}):(0,o.jsx)(y.m,{client:e.client,icon:g.S9,onClick:()=>{M("phone")},title:b.phonePlaceholder})}),H&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(y.m,{client:e.client,icon:g.ON,onClick:()=>{L({passkeyLogin:!0}),e.select()},title:b.passkey})}),e.isLinking&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(y.m,{client:e.client,icon:(0,g.Hs)(""),onClick:()=>{L({walletLogin:!0}),e.select()},title:b.linkWallet})})]})},C=(0,i.A)(b.$n)({flexGrow:1,"&[data-variant='full']":{display:"flex",justifyContent:"flex-start",padding:w.YK.md,gap:w.YK.sm,fontSize:w.J.md,fontWeight:500,transition:"background-color 0.2s ease","&:active":{boxShadow:"none"}},"&[data-variant='icon']":{padding:w.YK.sm}})},49354:(e,n,t)=>{t.d(n,{C:()=>i});var o=t(86085);function i(e){let{authOption:n,themeObj:t,client:i,ecosystem:r}=e;const{height:c,width:l}=function(e){return"facebook"===e?{width:715,height:555}:{width:350,height:500}}(n),s=(window.innerHeight-c)/2,d=(window.innerWidth-l)/2,u=window.open(function(e,n,t){switch(e){case"apple":case"facebook":case"google":case"farcaster":case"telegram":case"discord":return(0,o.f)({authOption:e,client:n,ecosystem:t});default:return""}}(n,i,r),void 0,"width=".concat(l,", height=").concat(c,", top=").concat(s,", left=").concat(d));if(u){const e=function(e){return"google"===e?"Sign In - Google Accounts":"Sign In - ".concat(e.slice(0,1).toUpperCase()).concat(e.slice(1))}(n);u.document.title=e,u.document.body.innerHTML=a,u.document.body.style.background=t.colors.modalBg,u.document.body.style.color=t.colors.accentText}return u&&window.addEventListener("beforeunload",(()=>{null===u||void 0===u||u.close()})),u}const a='\n<svg class="loader" viewBox="0 0 50 50">\n  <circle\n    cx="25"\n    cy="25"\n    r="20"\n    fill="none"\n    stroke="currentColor"\n    stroke-width="4"\n  />\n</svg>\n\n<style>\n  body,\n  html {\n    height: 100%;\n    margin: 0;\n    padding: 0;\n  }\n\n  body {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .loader {\n    width: 50px;\n    height: 50px;\n    animation: spin 2s linear infinite;\n  }\n\n  .loader circle {\n    animation: loading 1.5s linear infinite;\n  }\n\n  @keyframes loading {\n    0% {\n      stroke-dasharray: 1, 150;\n      stroke-dashoffset: 0;\n    }\n    50% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -35;\n    }\n    100% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -124;\n    }\n  }\n\n  @keyframes spin {\n    100% {\n      transform: rotate(360deg);\n        }\n  }\n</style>\n'},86085:(e,n,t)=>{t.d(n,{K:()=>c,f:()=>r});var o=t(18342),i=t(87029);const a=e=>{if(!i.N.includes(e)&&"wallet"!==e)throw new Error("Unknown auth option ".concat(e));return"wallet"===e?"siwe":e},r=e=>{let{authOption:n,client:t,ecosystem:i,mode:r="popup",redirectUrl:c}=e;const l=a(n);let s="".concat((0,o.Wg)("inAppWallet"),"/api/2024-05-05/login/").concat(l,"?clientId=").concat(t.clientId);if(null!==i&&void 0!==i&&i.partnerId?s="".concat(s,"&ecosystemId=").concat(i.id,"&ecosystemPartnerId=").concat(i.partnerId):i&&(s="".concat(s,"&ecosystemId=").concat(i.id)),"redirect"===r){const e=new URL(c||window.location.href);e.searchParams.set("walletId",(null===i||void 0===i?void 0:i.id)||"inApp"),e.searchParams.set("authProvider",n),s="".concat(s,"&redirectUrl=").concat(encodeURIComponent(e.toString()))}if("mobile"===r){if(!c)throw new Error("Redirect URL is required for mobile authentication");s="".concat(s,"&redirectUrl=").concat(encodeURIComponent(c))}return s},c=e=>{let{authOption:n,client:t,ecosystem:i}=e;const r=a(n);let c="".concat((0,o.Wg)("inAppWallet"),"/api/2024-05-05/login/").concat(r,"/callback?clientId=").concat(t.clientId);return null!==i&&void 0!==i&&i.partnerId?c="".concat(c,"&ecosystemId=").concat(i.id,"&ecosystemPartnerId=").concat(i.partnerId):i&&(c="".concat(c,"&ecosystemId=").concat(i.id)),c}},9142:(e,n,t)=>{t.d(n,{x:()=>c,N:()=>r});var o=t(18342),i=t(86085);const a=e=>{let{isWindowOpenedByFn:n,win:t,closeOpenedWindow:o}=e;n?null===t||void 0===t||t.close():t&&o?o(t):t&&t.close()},r=e=>{const n=(0,i.f)({...e,mode:"redirect"});!0===e.redirectExternally?window.open(n):window.location.href=n},c=async e=>{let n=e.openedWindow,t=!1;if(n||(n=window.open((0,i.f)({...e,mode:"popup"}),"Login to ".concat(e.authOption),"width=350, height=500"),t=!0),!n)throw new Error("Something went wrong opening pop-up");return await new Promise(((i,r)=>{const c=window.setInterval((async()=>{n.closed&&(clearInterval(c),window.removeEventListener("message",l),r(new Error("User closed login window")))}),1e3),l=async s=>{if(s.origin===(0,o.Wg)("inAppWallet"))if("object"===typeof s.data)switch(s.data.eventType){case"oauthSuccessResult":window.removeEventListener("message",l),clearInterval(c),a({isWindowOpenedByFn:t,win:n,closeOpenedWindow:e.closeOpenedWindow}),s.data.authResult&&i(s.data.authResult);break;case"oauthFailureResult":window.removeEventListener("message",l),clearInterval(c),a({isWindowOpenedByFn:t,win:n,closeOpenedWindow:e.closeOpenedWindow}),r(new Error(s.data.errorString))}else r(new Error("Invalid event data"))};window.addEventListener("message",l)}))}}}]);
//# sourceMappingURL=55749.5635b37d.chunk.js.map